<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: conditional_diagnostics_whole_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">conditional_diagnostics_whole_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Conditionally averaged diagnostics, Part 2 of 2.  
<a href="namespaceconditional__diagnostics__whole__mod.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a6c42ddc17feea49315ad46dce96038b8"><td class="memItemLeft" align="right" valign="top">type(<a class="el" href="structmonc__component__mod_1_1component__descriptor__type.html">component_descriptor_type</a>) function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditional__diagnostics__whole__mod.html#a6c42ddc17feea49315ad46dce96038b8">conditional_diagnostics_whole_get_descriptor</a> ()</td></tr>
<tr class="memdesc:a6c42ddc17feea49315ad46dce96038b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides registry information for the component.  <a href="namespaceconditional__diagnostics__whole__mod.html#a6c42ddc17feea49315ad46dce96038b8">More...</a><br /></td></tr>
<tr class="separator:a6c42ddc17feea49315ad46dce96038b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8577639c16623647fa43f4fa796963"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditional__diagnostics__whole__mod.html#ace8577639c16623647fa43f4fa796963">initialisation_callback</a> (current_state)</td></tr>
<tr class="memdesc:ace8577639c16623647fa43f4fa796963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation hook: currently doesn't need to do anything.  <a href="namespaceconditional__diagnostics__whole__mod.html#ace8577639c16623647fa43f4fa796963">More...</a><br /></td></tr>
<tr class="separator:ace8577639c16623647fa43f4fa796963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4b42ea9fb7b4a93dbbe70284251ee1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditional__diagnostics__whole__mod.html#adf4b42ea9fb7b4a93dbbe70284251ee1">timestep_callback</a> (current_state)</td></tr>
<tr class="memdesc:adf4b42ea9fb7b4a93dbbe70284251ee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timestep hook will perform averaging of the conditional diagnostics.  <a href="namespaceconditional__diagnostics__whole__mod.html#adf4b42ea9fb7b4a93dbbe70284251ee1">More...</a><br /></td></tr>
<tr class="separator:adf4b42ea9fb7b4a93dbbe70284251ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acd3ccd43af468f7829b28e0868f61d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditional__diagnostics__whole__mod.html#a2acd3ccd43af468f7829b28e0868f61d">finalisation_callback</a> (current_state)</td></tr>
<tr class="memdesc:a2acd3ccd43af468f7829b28e0868f61d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called on termination: currently doesn't need to do anything.  <a href="namespaceconditional__diagnostics__whole__mod.html#a2acd3ccd43af468f7829b28e0868f61d">More...</a><br /></td></tr>
<tr class="separator:a2acd3ccd43af468f7829b28e0868f61d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aba6d7a044ed07b62f6e3218ed26d189a"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditional__diagnostics__whole__mod.html#aba6d7a044ed07b62f6e3218ed26d189a">diagnostic_generation_frequency</a></td></tr>
<tr class="separator:aba6d7a044ed07b62f6e3218ed26d189a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Conditionally averaged diagnostics, Part 2 of 2. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a6c42ddc17feea49315ad46dce96038b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c42ddc17feea49315ad46dce96038b8">&#9670;&nbsp;</a></span>conditional_diagnostics_whole_get_descriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">type(<a class="el" href="structmonc__component__mod_1_1component__descriptor__type.html">component_descriptor_type</a>) function, public conditional_diagnostics_whole_mod::conditional_diagnostics_whole_get_descriptor</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides registry information for the component. </p>
<dl class="section return"><dt>Returns</dt><dd>The component descriptor that describes this component </dd></dl>

<p class="definition">Definition at line <a class="el" href="conditional__diagnostics__whole_8F90_source.html#l00033">33</a> of file <a class="el" href="conditional__diagnostics__whole_8F90_source.html">conditional_diagnostics_whole.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    conditional_diagnostics_whole_get_descriptor%name=<span class="stringliteral">&quot;conditional_diagnostics_whole&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    conditional_diagnostics_whole_get_descriptor%version=0.1</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    conditional_diagnostics_whole_get_descriptor%initialisation=&gt;initialisation_callback</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    conditional_diagnostics_whole_get_descriptor%timestep=&gt;timestep_callback</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    conditional_diagnostics_whole_get_descriptor%finalisation=&gt;finalisation_callback</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceconditional__diagnostics__whole__mod_a6c42ddc17feea49315ad46dce96038b8_cgraph.png" border="0" usemap="#anamespaceconditional__diagnostics__whole__mod_a6c42ddc17feea49315ad46dce96038b8_cgraph" alt=""/></div>
<map name="namespaceconditional__diagnostics__whole__mod_a6c42ddc17feea49315ad46dce96038b8_cgraph" id="anamespaceconditional__diagnostics__whole__mod_a6c42ddc17feea49315ad46dce96038b8_cgraph">
<area shape="rect" title="Provides registry information for the component." alt="" coords="5,85,231,141"/>
<area shape="rect" href="namespaceconditional__diagnostics__whole__mod.html#a2acd3ccd43af468f7829b28e0868f61d" title="Called on termination: currently doesn&#39;t need to do anything." alt="" coords="301,5,463,61"/>
<area shape="rect" href="namespaceconditional__diagnostics__whole__mod.html#ace8577639c16623647fa43f4fa796963" title="Initialisation hook: currently doesn&#39;t need to do anything." alt="" coords="297,85,467,141"/>
<area shape="rect" href="namespaceconditional__diagnostics__whole__mod.html#adf4b42ea9fb7b4a93dbbe70284251ee1" title="The timestep hook will perform averaging of the conditional diagnostics." alt="" coords="279,165,485,206"/>
</map>
</div>

</div>
</div>
<a id="a2acd3ccd43af468f7829b28e0868f61d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2acd3ccd43af468f7829b28e0868f61d">&#9670;&nbsp;</a></span>finalisation_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine conditional_diagnostics_whole_mod::finalisation_callback </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout), target&#160;</td>
          <td class="paramname"><em>current_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called on termination: currently doesn't need to do anything. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>The current model state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="conditional__diagnostics__whole_8F90_source.html#l00112">112</a> of file <a class="el" href="conditional__diagnostics__whole_8F90_source.html">conditional_diagnostics_whole.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">target</span>, <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceconditional__diagnostics__whole__mod_a2acd3ccd43af468f7829b28e0868f61d_icgraph.png" border="0" usemap="#anamespaceconditional__diagnostics__whole__mod_a2acd3ccd43af468f7829b28e0868f61d_icgraph" alt=""/></div>
<map name="namespaceconditional__diagnostics__whole__mod_a2acd3ccd43af468f7829b28e0868f61d_icgraph" id="anamespaceconditional__diagnostics__whole__mod_a2acd3ccd43af468f7829b28e0868f61d_icgraph">
<area shape="rect" title="Called on termination: currently doesn&#39;t need to do anything." alt="" coords="279,5,441,61"/>
<area shape="rect" href="namespaceconditional__diagnostics__whole__mod.html#a6c42ddc17feea49315ad46dce96038b8" title="Provides registry information for the component." alt="" coords="5,5,231,61"/>
</map>
</div>

</div>
</div>
<a id="ace8577639c16623647fa43f4fa796963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8577639c16623647fa43f4fa796963">&#9670;&nbsp;</a></span>initialisation_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine conditional_diagnostics_whole_mod::initialisation_callback </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout), target&#160;</td>
          <td class="paramname"><em>current_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialisation hook: currently doesn't need to do anything. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>The current model state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="conditional__diagnostics__whole_8F90_source.html#l00044">44</a> of file <a class="el" href="conditional__diagnostics__whole_8F90_source.html">conditional_diagnostics_whole.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">target</span>, <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">! Save the sampling_frequency to force diagnostic calculation on select time steps</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    diagnostic_generation_frequency=options_get_integer(current_state%options_database, <span class="stringliteral">&quot;sampling_frequency&quot;</span>)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceconditional__diagnostics__whole__mod_ace8577639c16623647fa43f4fa796963_icgraph.png" border="0" usemap="#anamespaceconditional__diagnostics__whole__mod_ace8577639c16623647fa43f4fa796963_icgraph" alt=""/></div>
<map name="namespaceconditional__diagnostics__whole__mod_ace8577639c16623647fa43f4fa796963_icgraph" id="anamespaceconditional__diagnostics__whole__mod_ace8577639c16623647fa43f4fa796963_icgraph">
<area shape="rect" title="Initialisation hook: currently doesn&#39;t need to do anything." alt="" coords="279,5,448,61"/>
<area shape="rect" href="namespaceconditional__diagnostics__whole__mod.html#a6c42ddc17feea49315ad46dce96038b8" title="Provides registry information for the component." alt="" coords="5,5,231,61"/>
</map>
</div>

</div>
</div>
<a id="adf4b42ea9fb7b4a93dbbe70284251ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf4b42ea9fb7b4a93dbbe70284251ee1">&#9670;&nbsp;</a></span>timestep_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine conditional_diagnostics_whole_mod::timestep_callback </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout), target&#160;</td>
          <td class="paramname"><em>current_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The timestep hook will perform averaging of the conditional diagnostics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>The current model state </td></tr>
  </table>
  </dd>
</dl>
<p>Decide if conditions are appropriate to proceed with calculations</p>
<p>Sum conditional diagnostics total array (horizontally), placing the result on process 0 Reduction call on process 0 requires special MPI_IN_PLACE handling</p>
<p>Average summed diagnostics over the domain by dividing the total diagnostic for each condition by the total number of points for the associated conditions. This is NOT done for the area diagnostic, identified by the requested_area position in the array. Note: CondDiags_tot(k, ncond, ndiag)</p>
<p>Convert the area total number of points for each condition to fraction of the horizontal domain.</p>
<p>Apply missing data mask to top/bottom</p>
<p>Since the xml handling of CondDiags_tot will perform a sum over processes, divide by the number of proceses.</p>
<p>Broadcast the process-fractional solution to all processes.</p>

<p class="definition">Definition at line <a class="el" href="conditional__diagnostics__whole_8F90_source.html#l00055">55</a> of file <a class="el" href="conditional__diagnostics__whole_8F90_source.html">conditional_diagnostics_whole.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">target</span>, <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">integer</span> :: k,cnc,dnc,ierr</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keywordtype">    real</span>(kind=<a class="code" href="namespacedatadefn__mod.html#a39b79f8cc843d236d3b47f5c81b64368">default_precision</a>) :: temp</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (.not. mod(current_state%timestep, diagnostic_generation_frequency) == 0) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (current_state%parallel%my_rank == 0) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keyword">call </span>mpi_reduce(mpi_in_place , conddiags_tot, ncond*2*ndiag*current_state%local_grid%size(z_index), &amp;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                      precision_type, mpi_sum, 0, current_state%parallel%monc_communicator, ierr)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keyword">call </span>mpi_reduce(conddiags_tot, conddiags_tot, ncond*2*ndiag*current_state%local_grid%size(z_index), &amp;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                      precision_type, mpi_sum, 0, current_state%parallel%monc_communicator, ierr)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">do</span> dnc = 1, ndiag</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keywordflow">if</span> (dnc /= requested_area) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">do</span> cnc = 1, ncond</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;          <span class="keywordflow">do</span> k = 2, current_state%local_grid%size(z_index) - 1</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            temp = conddiags_tot(k,cnc,requested_area)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">if</span> (temp .gt. 0) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;              conddiags_tot(k,cnc,dnc) = conddiags_tot(k,cnc,dnc) / temp</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;              conddiags_tot(k,cnc,dnc) = <a class="code" href="namespacemissing__data__mod.html#a3f0f5f89671006d2b52aac53d30dc926">rmdi</a></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keywordflow">            end if</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordflow">          end do</span> <span class="comment">! k</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordflow">        end do</span> <span class="comment">! cnc over ncond*2</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keywordflow">      end if</span> <span class="comment">! check requested_area</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keywordflow">    end do</span> <span class="comment">! dnc over ndiag</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    conddiags_tot(:,:,requested_area) = conddiags_tot(:,:,requested_area) / gpts_total</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    conddiags_tot(1,:,:) = <a class="code" href="namespacemissing__data__mod.html#a3f0f5f89671006d2b52aac53d30dc926">rmdi</a></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    conddiags_tot(current_state%local_grid%size(z_index),:,:) = <a class="code" href="namespacemissing__data__mod.html#a3f0f5f89671006d2b52aac53d30dc926">rmdi</a></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    conddiags_tot = conddiags_tot / current_state%parallel%processes</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">call </span>mpi_bcast(conddiags_tot,  ncond*2*ndiag*current_state%local_grid%size(z_index), &amp;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                   precision_type, 0, current_state%parallel%monc_communicator, ierr)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceconditional__diagnostics__whole__mod_adf4b42ea9fb7b4a93dbbe70284251ee1_icgraph.png" border="0" usemap="#anamespaceconditional__diagnostics__whole__mod_adf4b42ea9fb7b4a93dbbe70284251ee1_icgraph" alt=""/></div>
<map name="namespaceconditional__diagnostics__whole__mod_adf4b42ea9fb7b4a93dbbe70284251ee1_icgraph" id="anamespaceconditional__diagnostics__whole__mod_adf4b42ea9fb7b4a93dbbe70284251ee1_icgraph">
<area shape="rect" title="The timestep hook will perform averaging of the conditional diagnostics." alt="" coords="279,13,485,54"/>
<area shape="rect" href="namespaceconditional__diagnostics__whole__mod.html#a6c42ddc17feea49315ad46dce96038b8" title="Provides registry information for the component." alt="" coords="5,5,231,61"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aba6d7a044ed07b62f6e3218ed26d189a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6d7a044ed07b62f6e3218ed26d189a">&#9670;&nbsp;</a></span>diagnostic_generation_frequency</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer conditional_diagnostics_whole_mod::diagnostic_generation_frequency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conditional__diagnostics__whole_8F90_source.html#l00024">24</a> of file <a class="el" href="conditional__diagnostics__whole_8F90_source.html">conditional_diagnostics_whole.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <span class="keywordtype">integer</span> :: diagnostic_generation_frequency</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacemissing__data__mod_html_a3f0f5f89671006d2b52aac53d30dc926"><div class="ttname"><a href="namespacemissing__data__mod.html#a3f0f5f89671006d2b52aac53d30dc926">missing_data_mod::rmdi</a></div><div class="ttdeci">real, parameter rmdi</div><div class="ttdef"><b>Definition:</b> <a href="missing__data__mod_8F90_source.html#l00029">missing_data_mod.F90:29</a></div></div>
<div class="ttc" id="anamespacedatadefn__mod_html_a39b79f8cc843d236d3b47f5c81b64368"><div class="ttname"><a href="namespacedatadefn__mod.html#a39b79f8cc843d236d3b47f5c81b64368">datadefn_mod::default_precision</a></div><div class="ttdeci">integer, parameter, public default_precision</div><div class="ttdoc">MPI communication type which we use for the prognostic and calculation data.</div><div class="ttdef"><b>Definition:</b> <a href="datadefn_8F90_source.html#l00017">datadefn.F90:17</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
