<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: timestepper_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">timestepper_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Performs the actual time stepping over groups of components. Each group can be the whole (which is one call per component per timestep) or column, which calls components for each column of the timestep. Groups are executed sequentially in the order that they have been configured (which is already set up in the registry)  
<a href="namespacetimestepper__mod.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a0458194fc6edb4839d4fe553940c1f9c"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#a0458194fc6edb4839d4fe553940c1f9c">init_timestepper</a> ()</td></tr>
<tr class="memdesc:a0458194fc6edb4839d4fe553940c1f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the timestepper by prefetching the groups in the order that they will be executed, this is for optimised execution in the timestep calls.  <a href="namespacetimestepper__mod.html#a0458194fc6edb4839d4fe553940c1f9c">More...</a><br /></td></tr>
<tr class="separator:a0458194fc6edb4839d4fe553940c1f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc2aeb61f627e87b27fe35b8f1525f7e"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e">timestep</a> (current_state)</td></tr>
<tr class="memdesc:adc2aeb61f627e87b27fe35b8f1525f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a timestep, which is comprised of executing each group of components in the order that they have been configured in. The components in a group can be called, depending on the type, just once per timestep (WHOLE) or per column (COLUMN).  <a href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e">More...</a><br /></td></tr>
<tr class="separator:adc2aeb61f627e87b27fe35b8f1525f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b949cc5acc786b22e8152e793131ad"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#a68b949cc5acc786b22e8152e793131ad">finalise_timestepper</a> ()</td></tr>
<tr class="memdesc:a68b949cc5acc786b22e8152e793131ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalises the timestepper by cleaning up allocated memory.  <a href="namespacetimestepper__mod.html#a68b949cc5acc786b22e8152e793131ad">More...</a><br /></td></tr>
<tr class="separator:a68b949cc5acc786b22e8152e793131ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0bedaf6c415c5db8306e12437e604a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#a7b0bedaf6c415c5db8306e12437e604a">timestep_column</a> (current_state, group_descriptor)</td></tr>
<tr class="memdesc:a7b0bedaf6c415c5db8306e12437e604a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs timestepping for a group of components on a per column basis. Each component in the group is executed for every column.  <a href="namespacetimestepper__mod.html#a7b0bedaf6c415c5db8306e12437e604a">More...</a><br /></td></tr>
<tr class="separator:a7b0bedaf6c415c5db8306e12437e604a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad0de7cb9cc57ef856b1ab0e808cd786"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#aad0de7cb9cc57ef856b1ab0e808cd786">timestep_whole</a> (current_state, group_descriptor)</td></tr>
<tr class="memdesc:aad0de7cb9cc57ef856b1ab0e808cd786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a timestep for components in a group which are designed to be executed once per timestep.  <a href="namespacetimestepper__mod.html#aad0de7cb9cc57ef856b1ab0e808cd786">More...</a><br /></td></tr>
<tr class="separator:aad0de7cb9cc57ef856b1ab0e808cd786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1734b50a7d3106d7a493ce3d6dece28f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#a1734b50a7d3106d7a493ce3d6dece28f">update_state_sitation_flags</a> (current_state)</td></tr>
<tr class="memdesc:a1734b50a7d3106d7a493ce3d6dece28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the states situation flags for easy retrieval in the components that are run per timestep.  <a href="namespacetimestepper__mod.html#a1734b50a7d3106d7a493ce3d6dece28f">More...</a><br /></td></tr>
<tr class="separator:a1734b50a7d3106d7a493ce3d6dece28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a22489e06c9f20bb4208aa5552e401570"><td class="memItemLeft" align="right" valign="top">type(<a class="el" href="structregistry__mod_1_1group__descriptor__type.html">group_descriptor_type</a>), dimension(:), allocatable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetimestepper__mod.html#a22489e06c9f20bb4208aa5552e401570">group_descriptors</a></td></tr>
<tr class="memdesc:a22489e06c9f20bb4208aa5552e401570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetched ordered group descriptors.  <a href="namespacetimestepper__mod.html#a22489e06c9f20bb4208aa5552e401570">More...</a><br /></td></tr>
<tr class="separator:a22489e06c9f20bb4208aa5552e401570"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performs the actual time stepping over groups of components. Each group can be the whole (which is one call per component per timestep) or column, which calls components for each column of the timestep. Groups are executed sequentially in the order that they have been configured (which is already set up in the registry) </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a68b949cc5acc786b22e8152e793131ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68b949cc5acc786b22e8152e793131ad">&#9670;&nbsp;</a></span>finalise_timestepper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public timestepper_mod::finalise_timestepper</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalises the timestepper by cleaning up allocated memory. </p>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00044">44</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">deallocate</span>(group_descriptors)</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_a68b949cc5acc786b22e8152e793131ad_icgraph.png" border="0" usemap="#anamespacetimestepper__mod_a68b949cc5acc786b22e8152e793131ad_icgraph" alt=""/></div>
<map name="namespacetimestepper__mod_a68b949cc5acc786b22e8152e793131ad_icgraph" id="anamespacetimestepper__mod_a68b949cc5acc786b22e8152e793131ad_icgraph">
<area shape="rect" title="Finalises the timestepper by cleaning up allocated memory." alt="" coords="852,13,1020,54"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,13,804,54"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,20,577,47"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,13,380,54"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
</map>
</div>

</div>
</div>
<a id="a0458194fc6edb4839d4fe553940c1f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0458194fc6edb4839d4fe553940c1f9c">&#9670;&nbsp;</a></span>init_timestepper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public timestepper_mod::init_timestepper</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the timestepper by prefetching the groups in the order that they will be executed, this is for optimised execution in the timestep calls. </p>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00022">22</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keyword">call </span>get_ordered_groups(group_descriptors)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_cgraph.png" border="0" usemap="#anamespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_cgraph" alt=""/></div>
<map name="namespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_cgraph" id="anamespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_cgraph">
<area shape="rect" title="Initialises the timestepper by prefetching the groups in the order that they will be executed,..." alt="" coords="5,5,151,47"/>
<area shape="rect" href="namespaceregistry__mod.html#acb7182cb8ae10878b9bd3eff0b9af306" title="Orders all the groups (in the order that they will be called in) and returns an array with these in o..." alt="" coords="199,5,369,47"/>
<area shape="rect" href="namespaceregistry__mod.html#ae5b11998b62f4ae0aba6f758429ac3da" title="Given the id of a group this will return the corresponding descriptor." alt="" coords="417,5,576,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_icgraph.png" border="0" usemap="#anamespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_icgraph" alt=""/></div>
<map name="namespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_icgraph" id="anamespacetimestepper__mod_a0458194fc6edb4839d4fe553940c1f9c_icgraph">
<area shape="rect" title="Initialises the timestepper by prefetching the groups in the order that they will be executed,..." alt="" coords="852,13,997,54"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,13,804,54"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,20,577,47"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,13,380,54"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
</map>
</div>

</div>
</div>
<a id="adc2aeb61f627e87b27fe35b8f1525f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc2aeb61f627e87b27fe35b8f1525f7e">&#9670;&nbsp;</a></span>timestep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public timestepper_mod::timestep </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>current_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a timestep, which is comprised of executing each group of components in the order that they have been configured in. The components in a group can be called, depending on the type, just once per timestep (WHOLE) or per column (COLUMN). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>The current model state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00029">29</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">integer</span> :: i</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">do</span> i=1,<span class="keyword">size</span>(group_descriptors)      </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      <span class="keywordflow">if</span> (group_descriptors(i)%type == group_type_whole) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keyword">call </span>timestep_whole(current_state, group_descriptors(i))</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (group_descriptors(i)%type == group_type_column) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keyword">call </span>timestep_column(current_state, group_descriptors(i))</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keywordflow">    end do</span>    </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_cgraph.png" border="0" usemap="#anamespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_cgraph" alt=""/></div>
<map name="namespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_cgraph" id="anamespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_cgraph">
<area shape="rect" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="5,46,184,73"/>
<area shape="rect" href="namespacetimestepper__mod.html#a7b0bedaf6c415c5db8306e12437e604a" title="Performs timestepping for a group of components on a per column basis. Each component in the group is..." alt="" coords="232,71,411,112"/>
<area shape="rect" href="namespacetimestepper__mod.html#aad0de7cb9cc57ef856b1ab0e808cd786" title="Executes a timestep for components in a group which are designed to be executed once per timestep." alt="" coords="232,5,411,47"/>
<area shape="rect" href="namespaceregistry__mod.html#aa12b1cbe0ce70757003f2f125fb63115" title="Calls all timestep callbacks with the specified state." alt="" coords="469,5,615,47"/>
<area shape="rect" href="namespacetimestepper__mod.html#a1734b50a7d3106d7a493ce3d6dece28f" title="Updates the states situation flags for easy retrieval in the components that are run per timestep." alt="" coords="459,71,625,112"/>
<area shape="rect" href="namespaceregistry__mod.html#a5ea79574949c7be412836f68adae30b1" title="Will execute the appropriate callbacks in a specific map_type given the current state." alt="" coords="673,5,820,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_icgraph.png" border="0" usemap="#anamespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_icgraph" alt=""/></div>
<map name="namespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_icgraph" id="anamespacetimestepper__mod_adc2aeb61f627e87b27fe35b8f1525f7e_icgraph">
<area shape="rect" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="852,20,1031,47"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,13,804,54"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,20,577,47"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,13,380,54"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
</map>
</div>

</div>
</div>
<a id="a7b0bedaf6c415c5db8306e12437e604a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0bedaf6c415c5db8306e12437e604a">&#9670;&nbsp;</a></span>timestep_column()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine timestepper_mod::timestep_column </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structregistry__mod_1_1group__descriptor__type.html">group_descriptor_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>group_descriptor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs timestepping for a group of components on a per column basis. Each component in the group is executed for every column. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>The current model state </td></tr>
    <tr><td class="paramname">group_descriptor</td><td>Description of the group of components to execute </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00052">52</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">type</span>(group_descriptor_type), <span class="keywordtype">intent(in)</span> :: group_descriptor</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    current_state%column_global_x=current_state%local_grid%start(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>) - current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    current_state%column_local_x=1</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">do</span> <span class="keywordflow">while</span> (current_state%column_global_x .le. &amp;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;         current_state%local_grid%end(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>)+current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>))</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      current_state%column_global_y = current_state%local_grid%start(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>) - current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      current_state%column_local_y=1</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keywordflow">do</span> <span class="keywordflow">while</span> (current_state%column_global_y .le. &amp;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;           current_state%local_grid%end(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>)+current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>))</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keyword">call </span>update_state_sitation_flags(current_state)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keyword">call </span>execute_timestep_callbacks(current_state, group_descriptor%id)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        current_state%column_global_y = current_state%column_global_y + 1</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        current_state%column_local_y = current_state%column_local_y + 1</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keywordflow">      end do</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      current_state%column_global_x = current_state%column_global_x + 1</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      current_state%column_local_x = current_state%column_local_x + 1</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keywordflow">    end do</span>    </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_cgraph.png" border="0" usemap="#anamespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_cgraph" alt=""/></div>
<map name="namespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_cgraph" id="anamespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_cgraph">
<area shape="rect" title="Performs timestepping for a group of components on a per column basis. Each component in the group is..." alt="" coords="5,39,184,80"/>
<area shape="rect" href="namespaceregistry__mod.html#aa12b1cbe0ce70757003f2f125fb63115" title="Calls all timestep callbacks with the specified state." alt="" coords="242,5,389,47"/>
<area shape="rect" href="namespacetimestepper__mod.html#a1734b50a7d3106d7a493ce3d6dece28f" title="Updates the states situation flags for easy retrieval in the components that are run per timestep." alt="" coords="232,71,399,112"/>
<area shape="rect" href="namespaceregistry__mod.html#a5ea79574949c7be412836f68adae30b1" title="Will execute the appropriate callbacks in a specific map_type given the current state." alt="" coords="447,5,593,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_icgraph.png" border="0" usemap="#anamespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_icgraph" alt=""/></div>
<map name="namespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_icgraph" id="anamespacetimestepper__mod_a7b0bedaf6c415c5db8306e12437e604a_icgraph">
<area shape="rect" title="Performs timestepping for a group of components on a per column basis. Each component in the group is..." alt="" coords="1079,13,1257,54"/>
<area shape="rect" href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="852,20,1031,47"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,13,804,54"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,20,577,47"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,13,380,54"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
</map>
</div>

</div>
</div>
<a id="aad0de7cb9cc57ef856b1ab0e808cd786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad0de7cb9cc57ef856b1ab0e808cd786">&#9670;&nbsp;</a></span>timestep_whole()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine timestepper_mod::timestep_whole </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structregistry__mod_1_1group__descriptor__type.html">group_descriptor_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>group_descriptor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a timestep for components in a group which are designed to be executed once per timestep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>The current model state </td></tr>
    <tr><td class="paramname">group_descriptor</td><td>Description of the group of components to execute </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00077">77</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">type</span>(group_descriptor_type), <span class="keywordtype">intent(in)</span> :: group_descriptor</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">call </span>execute_timestep_callbacks(current_state, group_descriptor%id)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_cgraph.png" border="0" usemap="#anamespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_cgraph" alt=""/></div>
<map name="namespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_cgraph" id="anamespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_cgraph">
<area shape="rect" title="Executes a timestep for components in a group which are designed to be executed once per timestep." alt="" coords="5,5,184,47"/>
<area shape="rect" href="namespaceregistry__mod.html#aa12b1cbe0ce70757003f2f125fb63115" title="Calls all timestep callbacks with the specified state." alt="" coords="232,5,379,47"/>
<area shape="rect" href="namespaceregistry__mod.html#a5ea79574949c7be412836f68adae30b1" title="Will execute the appropriate callbacks in a specific map_type given the current state." alt="" coords="427,5,573,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_icgraph.png" border="0" usemap="#anamespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_icgraph" alt=""/></div>
<map name="namespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_icgraph" id="anamespacetimestepper__mod_aad0de7cb9cc57ef856b1ab0e808cd786_icgraph">
<area shape="rect" title="Executes a timestep for components in a group which are designed to be executed once per timestep." alt="" coords="1079,13,1257,54"/>
<area shape="rect" href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="852,20,1031,47"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,13,804,54"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,20,577,47"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,13,380,54"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
</map>
</div>

</div>
</div>
<a id="a1734b50a7d3106d7a493ce3d6dece28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1734b50a7d3106d7a493ce3d6dece28f">&#9670;&nbsp;</a></span>update_state_sitation_flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine timestepper_mod::update_state_sitation_flags </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>current_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the states situation flags for easy retrieval in the components that are run per timestep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The current model state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00087">87</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: current_state</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    current_state%first_timestep_column = (current_state%column_local_x == 1 .and. current_state%column_local_y == 1)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    current_state%last_timestep_column = (current_state%column_global_x == &amp;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;         current_state%local_grid%end(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>) + current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>) .and. &amp;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;         current_state%column_global_y == current_state%local_grid%end(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>) + current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>))   </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    current_state%first_nonhalo_timestep_column = (current_state%column_local_x == current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>)+1 &amp;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;       .and. current_state%column_local_y == current_state%local_grid%halo_size(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>)+1)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    current_state%halo_column = current_state%column_local_y .lt. current_state%local_grid%local_domain_start_index(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>) .or.&amp;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;         current_state%column_local_x .lt. current_state%local_grid%local_domain_start_index(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>) .or.&amp;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;         current_state%column_local_y .gt. current_state%local_grid%local_domain_end_index(<a class="code" href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">y_index</a>) .or.&amp;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;         current_state%column_local_x .gt. current_state%local_grid%local_domain_end_index(<a class="code" href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">x_index</a>)</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacetimestepper__mod_a1734b50a7d3106d7a493ce3d6dece28f_icgraph.png" border="0" usemap="#anamespacetimestepper__mod_a1734b50a7d3106d7a493ce3d6dece28f_icgraph" alt=""/></div>
<map name="namespacetimestepper__mod_a1734b50a7d3106d7a493ce3d6dece28f_icgraph" id="anamespacetimestepper__mod_a1734b50a7d3106d7a493ce3d6dece28f_icgraph">
<area shape="rect" title="Updates the states situation flags for easy retrieval in the components that are run per timestep." alt="" coords="1305,13,1472,54"/>
<area shape="rect" href="namespacetimestepper__mod.html#a7b0bedaf6c415c5db8306e12437e604a" title="Performs timestepping for a group of components on a per column basis. Each component in the group is..." alt="" coords="1079,13,1257,54"/>
<area shape="rect" href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="852,20,1031,47"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,13,804,54"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,20,577,47"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,13,380,54"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a22489e06c9f20bb4208aa5552e401570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22489e06c9f20bb4208aa5552e401570">&#9670;&nbsp;</a></span>group_descriptors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">type(<a class="el" href="structregistry__mod_1_1group__descriptor__type.html">group_descriptor_type</a>), dimension(:), allocatable timestepper_mod::group_descriptors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefetched ordered group descriptors. </p>

<p class="definition">Definition at line <a class="el" href="timestepper_8F90_source.html#l00015">15</a> of file <a class="el" href="timestepper_8F90_source.html">timestepper.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  <span class="keywordtype">type</span>(group_descriptor_type), <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: group_descriptors</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacegrids__mod_html_ab478bbfee0dae6b2e13f3a5eb85be214"><div class="ttname"><a href="namespacegrids__mod.html#ab478bbfee0dae6b2e13f3a5eb85be214">grids_mod::x_index</a></div><div class="ttdeci">integer, parameter, public x_index</div><div class="ttdef"><b>Definition:</b> <a href="grids_8F90_source.html#l00014">grids.F90:14</a></div></div>
<div class="ttc" id="anamespacegrids__mod_html_aa0e3f2f5767ed33c4b47a761c2af171a"><div class="ttname"><a href="namespacegrids__mod.html#aa0e3f2f5767ed33c4b47a761c2af171a">grids_mod::y_index</a></div><div class="ttdeci">integer, parameter, public y_index</div><div class="ttdef"><b>Definition:</b> <a href="grids_8F90_source.html#l00014">grids.F90:14</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
