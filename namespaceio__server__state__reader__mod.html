<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: io_server_state_reader_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">io_server_state_reader_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Reads the IO server state that was stored in a NetCDF checkpoint file.  
<a href="namespaceio__server__state__reader__mod.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio__server__state__reader__mod_1_1nc__get__vara__long.html">nc_get_vara_long</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISO C binding for NetCDF get long scalar variable, required for retrieving long variables.  <a href="interfaceio__server__state__reader__mod_1_1nc__get__vara__long.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio__server__state__reader__mod_1_1nc__get__vars__text.html">nc_get_vars_text</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISO C binding for NetCDF get text vars, required for 64 bit start, count &amp; stride.  <a href="interfaceio__server__state__reader__mod_1_1nc__get__vars__text.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio__server__state__reader__mod_1_1nc__inq__dim.html">nc_inq_dim</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISO C binding for NetCDF inquire dimension, required for 64 bit dimension length.  <a href="interfaceio__server__state__reader__mod_1_1nc__inq__dim.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html">writer_field_manager_unserialise_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:abed991a38346a4f13146d92cea1b801e"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#abed991a38346a4f13146d92cea1b801e">read_io_server_configuration</a> (checkpoint_filename, io_xml_configuration, io_communicator_arg)</td></tr>
<tr class="memdesc:abed991a38346a4f13146d92cea1b801e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the IO server configuration, which is the XML configuration initially run with and stored in the checkpoint. Note that this will open, read the XML in and then close the file.  <a href="namespaceio__server__state__reader__mod.html#abed991a38346a4f13146d92cea1b801e">More...</a><br /></td></tr>
<tr class="separator:abed991a38346a4f13146d92cea1b801e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bc5840c3287e6dcbbb29f4480bbdde"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde">reactivate_writer_federator_state</a> (io_configuration, writer_entries, time_points)</td></tr>
<tr class="memdesc:a21bc5840c3287e6dcbbb29f4480bbdde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager.) For memory reasons this explicitly reopens the checkpoint file, will read each individual byte code entry in &amp; repackage before deallocating memory and moving onto the next entry. The file is then closed.  <a href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde">More...</a><br /></td></tr>
<tr class="separator:a21bc5840c3287e6dcbbb29f4480bbdde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ee89021b7ad8db947b5a370ab647cc"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#ac3ee89021b7ad8db947b5a370ab647cc">reactivate_writer_field_manager_state</a> (io_configuration, unserialise_writer_field_manager)</td></tr>
<tr class="memdesc:ac3ee89021b7ad8db947b5a370ab647cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reactivates the writer field manager state from the checkpoint file, for memory reasons this will open the file, read in and deserialise the byte code before closing it.  <a href="namespaceio__server__state__reader__mod.html#ac3ee89021b7ad8db947b5a370ab647cc">More...</a><br /></td></tr>
<tr class="separator:ac3ee89021b7ad8db947b5a370ab647cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace98af73c4d4f36a4356adbf4efb1ddc"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#ace98af73c4d4f36a4356adbf4efb1ddc">get_io_server_configuration</a> (ncid, io_xml_configuration)</td></tr>
<tr class="memdesc:ace98af73c4d4f36a4356adbf4efb1ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the IO server XML configuration from the checkpoint file.  <a href="namespaceio__server__state__reader__mod.html#ace98af73c4d4f36a4356adbf4efb1ddc">More...</a><br /></td></tr>
<tr class="separator:ace98af73c4d4f36a4356adbf4efb1ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fa2d9320b51df852a8091efe4eaeab"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#ae6fa2d9320b51df852a8091efe4eaeab">get_io_server_serialised_bytes</a> (ncid, number_io_server, my_io_server_rank, base_key, raw_bytes)</td></tr>
<tr class="memdesc:ae6fa2d9320b51df852a8091efe4eaeab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves some IO server serialised bytes which will make up the state of a specific facet. Note that this uses the ISO C bindings in order to support 64 bit starts, counts &amp; strides along with 64 bit scalar long variable fields.  <a href="namespaceio__server__state__reader__mod.html#ae6fa2d9320b51df852a8091efe4eaeab">More...</a><br /></td></tr>
<tr class="separator:ae6fa2d9320b51df852a8091efe4eaeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87dbe83976cbed778e4f17006ce43a7a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#a87dbe83976cbed778e4f17006ce43a7a">restart_writer_state_from_checkpoint</a> (writer_entries, raw_bytes)</td></tr>
<tr class="memdesc:a87dbe83976cbed778e4f17006ce43a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the writer state from a specific checkpoint byte data chunk of memory.  <a href="namespaceio__server__state__reader__mod.html#a87dbe83976cbed778e4f17006ce43a7a">More...</a><br /></td></tr>
<tr class="separator:a87dbe83976cbed778e4f17006ce43a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8d354060b4c24f27e7e10f0e64b8c5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#a6f8d354060b4c24f27e7e10f0e64b8c5">restart_writer_state_timepoints</a> (time_points, raw_bytes)</td></tr>
<tr class="memdesc:a6f8d354060b4c24f27e7e10f0e64b8c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the writer state timepoints held in the writer federator.  <a href="namespaceio__server__state__reader__mod.html#a6f8d354060b4c24f27e7e10f0e64b8c5">More...</a><br /></td></tr>
<tr class="separator:a6f8d354060b4c24f27e7e10f0e64b8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629f60c48b74a642c82f54b10226201e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#a629f60c48b74a642c82f54b10226201e">restart_timeaveraged_state_from_checkpoint</a> (raw_bytes)</td></tr>
<tr class="memdesc:a629f60c48b74a642c82f54b10226201e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will restart the time averaged manipulation state from the checkpoint file.  <a href="namespaceio__server__state__reader__mod.html#a629f60c48b74a642c82f54b10226201e">More...</a><br /></td></tr>
<tr class="separator:a629f60c48b74a642c82f54b10226201e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd344d14e8cfe309b319213650c0b8c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#a2fd344d14e8cfe309b319213650c0b8c">restart_instantaneous_state_from_checkpoint</a> (raw_bytes)</td></tr>
<tr class="memdesc:a2fd344d14e8cfe309b319213650c0b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will restart the instantaneous manipulation state from the checkpoint file.  <a href="namespaceio__server__state__reader__mod.html#a2fd344d14e8cfe309b319213650c0b8c">More...</a><br /></td></tr>
<tr class="separator:a2fd344d14e8cfe309b319213650c0b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad750d4f0fe0a79ee6fd675fcc5bb14e9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio__server__state__reader__mod.html#ad750d4f0fe0a79ee6fd675fcc5bb14e9">restart_writer_field_manager_from_checkpoint</a> (unserialise_writer_field_manager, raw_bytes)</td></tr>
<tr class="memdesc:ad750d4f0fe0a79ee6fd675fcc5bb14e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will restart the field manager state from the checkpoint file.  <a href="namespaceio__server__state__reader__mod.html#ad750d4f0fe0a79ee6fd675fcc5bb14e9">More...</a><br /></td></tr>
<tr class="separator:ad750d4f0fe0a79ee6fd675fcc5bb14e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Reads the IO server state that was stored in a NetCDF checkpoint file. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ace98af73c4d4f36a4356adbf4efb1ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace98af73c4d4f36a4356adbf4efb1ddc">&#9670;&nbsp;</a></span>get_io_server_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::get_io_server_configuration </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ncid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(:), intent(inout), allocatable&#160;</td>
          <td class="paramname"><em>io_xml_configuration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the IO server XML configuration from the checkpoint file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ncid</td><td>The NetCDF checkpoint file ID </td></tr>
    <tr><td class="paramname">io_xml_configuration</td><td>XML configuration is read from the checkpoint and placed into here </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00169">169</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: ncid</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span>, <span class="keywordtype">intent(inout)</span> :: io_xml_configuration</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">integer</span> :: dim_id, var_id, dim_size</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">logical</span> :: found</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inq_dimid(ncid, <span class="stringliteral">&quot;io_configuration_dim&quot;</span>, dim_id), found)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (.not. found) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inquire_dimension(ncid, dim_id, len=dim_size))</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inq_varid(ncid, <span class="stringliteral">&quot;io_configuration&quot;</span>, var_id), found)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (.not. found) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">allocate</span>(io_xml_configuration(dim_size))</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_get_var(ncid, var_id, io_xml_configuration, count=(/dim_size/)))</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_cgraph" id="anamespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_cgraph">
<area shape="rect" title="Retrieves the IO server XML configuration from the checkpoint file." alt="" coords="5,5,224,47"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="272,5,439,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="487,13,629,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="677,5,844,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_icgraph" id="anamespaceio__server__state__reader__mod_ace98af73c4d4f36a4356adbf4efb1ddc_icgraph">
<area shape="rect" title="Retrieves the IO server XML configuration from the checkpoint file." alt="" coords="541,35,760,77"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#abed991a38346a4f13146d92cea1b801e" title="Reads the IO server configuration, which is the XML configuration initially run with and stored in th..." alt="" coords="268,35,493,77"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="17,5,208,32"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="5,57,220,127"/>
</map>
</div>

</div>
</div>
<a id="ae6fa2d9320b51df852a8091efe4eaeab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6fa2d9320b51df852a8091efe4eaeab">&#9670;&nbsp;</a></span>get_io_server_serialised_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::get_io_server_serialised_bytes </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ncid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>number_io_server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>my_io_server_rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>base_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(:), intent(out), allocatable&#160;</td>
          <td class="paramname"><em>raw_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves some IO server serialised bytes which will make up the state of a specific facet. Note that this uses the ISO C bindings in order to support 64 bit starts, counts &amp; strides along with 64 bit scalar long variable fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ncid</td><td>The NetCDF checkpoint file ID </td></tr>
    <tr><td class="paramname">number_io_server</td><td>The number of IO servers </td></tr>
    <tr><td class="paramname">my_io_server_rank</td><td>My IO server rank </td></tr>
    <tr><td class="paramname">base_key</td><td>The base look up key to retrieve the state which is stored in the file </td></tr>
    <tr><td class="paramname">raw_bytes</td><td>The retrieved raw bytes as they sit in the file, this is allocated to hold the required data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00193">193</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: ncid, number_io_server, my_io_server_rank</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">character(len=*)</span>, <span class="keywordtype">intent(in)</span> :: base_key</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span>, <span class="keywordtype">intent(out)</span> :: raw_bytes</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">integer</span> :: dim_id, var_id</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">logical</span> :: found</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">integer(kind=8)</span> :: dim_size, serialised_range(2), number_serialised_entries</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">integer(kind=c_int)</span>        :: cncid, cdimid, cstatus, cvarid</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">integer(kind=c_size_t)</span>     :: cdlen</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">character(len=256)</span> :: tmpname</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">integer(KIND=c_size_t)</span>, <span class="keywordtype">target</span> :: cstart(1), ccounts(1)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">Integer(KIND=c_ptrdiff_t)</span>, <span class="keywordtype">target</span> :: cstrides(1)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">type</span>(c_ptr) :: cstartptr, ccountsptr, cstridesptr</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    cncid=ncid</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    cstartptr=c_loc(cstart)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    ccountsptr=c_loc(ccounts)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    cstridesptr=c_loc(cstrides)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inq_dimid(ncid, trim(base_key)//<span class="stringliteral">&quot;_dim&quot;</span>, dim_id), found)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (.not. found) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    cdimid=dim_id-1</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nc_inq_dim(cncid, cdimid, tmpname, cdlen))</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    dim_size=cdlen</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inq_varid(ncid, trim(base_key)//<span class="stringliteral">&quot;_directory&quot;</span>, var_id), found)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (.not. found) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    cvarid=var_id-1</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    cstart(1)=my_io_server_rank</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (my_io_server_rank .lt. number_io_server-1) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      ccounts(1)=2</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keyword">call </span>check_netcdf_status(nc_get_vara_long(cncid, cvarid, cstartptr, ccountsptr, serialised_range))</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (serialised_range(2) .gt. dim_size) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;Serialised entry beyond size in the file&quot;</span>)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      ccounts(1)=1</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keyword">call </span>check_netcdf_status(nc_get_vara_long(cncid, cvarid, cstartptr, ccountsptr, serialised_range))</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      serialised_range(2)=dim_size</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keywordflow">    end if</span>    </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    number_serialised_entries=(serialised_range(2)-serialised_range(1)) + 1    </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inq_varid(ncid, trim(base_key), var_id), found)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (.not. found) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">allocate</span>(raw_bytes(number_serialised_entries))</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    cvarid=var_id-1</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    cstart=serialised_range(1)-1</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    ccounts=number_serialised_entries</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    cstrides(1)=1</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nc_get_vars_text(cncid, cvarid, cstartptr, ccountsptr, cstridesptr, raw_bytes))</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_cgraph" id="anamespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_cgraph">
<area shape="rect" title="Retrieves some IO server serialised bytes which will make up the state of a specific facet...." alt="" coords="5,35,244,76"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="292,5,459,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="507,42,649,69"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="697,35,864,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_icgraph" id="anamespaceio__server__state__reader__mod_ae6fa2d9320b51df852a8091efe4eaeab_icgraph">
<area shape="rect" title="Retrieves some IO server serialised bytes which will make up the state of a specific facet...." alt="" coords="711,85,949,127"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="507,38,663,94"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ac3ee89021b7ad8db947b5a370ab647cc" title="Reactivates the writer field manager state from the checkpoint file, for memory reasons this will ope..." alt="" coords="507,118,663,174"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985" title="Initialises the write federator and configures it based on the user configuration...." alt="" coords="265,5,437,47"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,71,459,141"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,97,196,123"/>
<area shape="rect" href="namespacewriter__field__manager__mod.html#a061c34fe0697d9639defd2f0926e2e74" title="Initialises the writer field manager." alt="" coords="278,166,425,222"/>
</map>
</div>

</div>
</div>
<a id="a21bc5840c3287e6dcbbb29f4480bbdde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21bc5840c3287e6dcbbb29f4480bbdde">&#9670;&nbsp;</a></span>reactivate_writer_federator_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_server_state_reader_mod::reactivate_writer_federator_state </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structconfiguration__parser__mod_1_1io__configuration__type.html">io_configuration_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>io_configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structwriter__types__mod_1_1writer__type.html">writer_type</a>), dimension(:)&#160;</td>
          <td class="paramname"><em>writer_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout), volatile&#160;</td>
          <td class="paramname"><em>time_points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager.) For memory reasons this explicitly reopens the checkpoint file, will read each individual byte code entry in &amp; repackage before deallocating memory and moving onto the next entry. The file is then closed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_configuration</td><td>The IO server configuration </td></tr>
    <tr><td class="paramname">writer_entries</td><td>The configured but empty writer entries to unpack the state into </td></tr>
    <tr><td class="paramname">time_points</td><td>Time points to unpack the state into </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00105">105</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">type</span>(io_configuration_type), <span class="keywordtype">intent(inout)</span> :: io_configuration</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">type</span>(writer_type), <span class="keywordtype">dimension(:)</span> :: writer_entries</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">volatile</span>, <span class="keywordtype">intent(inout)</span> :: time_points</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">integer</span> :: ncid, ierr, i</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_open(path = options_get_string(io_configuration%options_database, <span class="stringliteral">&quot;checkpoint&quot;</span>), &amp;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;         mode = nf90_nowrite, ncid = ncid))</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">do</span> i=1, <span class="keyword">size</span>(writer_entries)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="comment">! Note that the different writer entries are dealt with separately for memory reasons</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">if</span> (writer_entries(i)%include_in_io_state_write) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keyword">call </span>get_io_server_serialised_bytes(ncid, io_configuration%number_of_io_servers, io_configuration%my_io_rank, &amp;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;             <span class="stringliteral">&quot;serialised_writer_entry_&quot;</span>//trim(conv_to_string(i)), raw_bytes)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keyword">call </span>unserialise_writer_type(writer_entries(i), raw_bytes)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keyword">deallocate</span>(raw_bytes)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">call </span>get_io_server_serialised_bytes(ncid, io_configuration%number_of_io_servers, io_configuration%my_io_rank, &amp;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         <span class="stringliteral">&quot;serialised_timeaveraged_manipulation&quot;</span>, raw_bytes)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">call </span>restart_timeaveraged_state_from_checkpoint(raw_bytes)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">deallocate</span>(raw_bytes)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">call </span>get_io_server_serialised_bytes(ncid, io_configuration%number_of_io_servers, io_configuration%my_io_rank, &amp;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;         <span class="stringliteral">&quot;serialised_instantaneous_manipulation&quot;</span>, raw_bytes)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">call </span>restart_instantaneous_state_from_checkpoint(raw_bytes)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">deallocate</span>(raw_bytes)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">call </span>get_io_server_serialised_bytes(ncid, io_configuration%number_of_io_servers, io_configuration%my_io_rank, &amp;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;         <span class="stringliteral">&quot;serialised_timepoints&quot;</span>, raw_bytes)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">call </span>restart_writer_state_timepoints(time_points, raw_bytes)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">deallocate</span>(raw_bytes)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_close(ncid))</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_cgraph" id="anamespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_cgraph">
<area shape="rect" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="5,236,161,292"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="538,10,705,51"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ae6fa2d9320b51df852a8091efe4eaeab" title="Retrieves some IO server serialised bytes which will make up the state of a specific facet...." alt="" coords="209,68,448,110"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088" title="Retrieves a string value from the database that matches the provided key." alt="" coords="254,460,403,502"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a2fd344d14e8cfe309b319213650c0b8c" title="Will restart the instantaneous manipulation state from the checkpoint file." alt="" coords="236,156,421,212"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a629f60c48b74a642c82f54b10226201e" title="Will restart the time averaged manipulation state from the checkpoint file." alt="" coords="237,236,420,292"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a6f8d354060b4c24f27e7e10f0e64b8c5" title="Restarts the writer state timepoints held in the writer federator." alt="" coords="243,316,415,372"/>
<area shape="rect" href="namespacewriter__types__mod.html#a433965efb35f6d750e5365c1257057bb" title="Unserialises some byte data into the writer in order to recreate the state of the writer." alt="" coords="233,562,425,603"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="831,76,973,102"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="1070,68,1237,110"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="547,453,696,509"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="543,532,700,574"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="827,460,977,502"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="527,206,716,233"/>
<area shape="rect" href="namespaceinstantaneous__time__manipulation__mod.html#a05f91c0341154b1a62fc61d5afe0e2a1" title="Unpacks some serialised byte data to initialise this manipulator to some previous state." alt="" coords="520,126,723,182"/>
<area shape="rect" href="namespacetimeaveraged__time__manipulation__mod.html#a35f58180460226c8d79501df2076eaa9" title="Unserialises some byte data to initialise the state from some previous version." alt="" coords="496,258,747,299"/>
<area shape="rect" href="namespacetimeaveraged__time__manipulation__mod.html#a3d50d634cdf0a28d0ed7651e3a025416" title="Will create a specific time averaged completed value based upon the provided serialised data." alt="" coords="795,250,1009,306"/>
<area shape="rect" href="namespacedata__utils__mod.html#a3b50dff5f8dae4a3bc361d1dce5f7711" title="Unpacks a double precision scalar real from some byte data, this is a very simple unpack routine wrap..." alt="" coords="520,323,723,364"/>
<area shape="rect" href="namespacedata__utils__mod.html#ab3602147fea5dd8f50911c7f4c93ff76" title="Unpacks a scalar integer from some byte data, this is a very simple unpack routine wrapping the trans..." alt="" coords="522,388,721,430"/>
<area shape="rect" href="namespacewriter__types__mod.html#a7b5b6fc49221508341b7c744284b2d4c" title="Unserialises byte data into a writer field type." alt="" coords="525,598,717,639"/>
<area shape="rect" href="namespacewriter__types__mod.html#a9c6f0c0e7d2ea3c758c6df1041d175a8" title="Unserialsies collective values contained in some data." alt="" coords="806,627,998,668"/>
<area shape="rect" href="namespacewriter__types__mod.html#a536a4c1352bbc1d7a21aedec40ba4f8e" title="Unserialises some byte data into data values." alt="" coords="1057,598,1249,639"/>
<area shape="rect" href="namespacewriter__types__mod.html#a0c1e3ad6ff464304020f0be57e7e7df0" title="Inflates some byte data into a string map." alt="" coords="1297,598,1489,639"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_icgraph" id="anamespaceio__server__state__reader__mod_a21bc5840c3287e6dcbbb29f4480bbdde_icgraph">
<area shape="rect" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="507,38,663,94"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985" title="Initialises the write federator and configures it based on the user configuration...." alt="" coords="265,5,437,47"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,71,459,141"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,13,196,39"/>
</map>
</div>

</div>
</div>
<a id="ac3ee89021b7ad8db947b5a370ab647cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ee89021b7ad8db947b5a370ab647cc">&#9670;&nbsp;</a></span>reactivate_writer_field_manager_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_server_state_reader_mod::reactivate_writer_field_manager_state </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structconfiguration__parser__mod_1_1io__configuration__type.html">io_configuration_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>io_configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">procedure(<a class="el" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html">writer_field_manager_unserialise_state</a>)&#160;</td>
          <td class="paramname"><em>unserialise_writer_field_manager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reactivates the writer field manager state from the checkpoint file, for memory reasons this will open the file, read in and deserialise the byte code before closing it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_configuration</td><td>IO server configuration </td></tr>
    <tr><td class="paramname">unserialise_writer_field_manager</td><td>Procedure pointer to the unserialisation for the writer field manager </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00148">148</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">type</span>(io_configuration_type), <span class="keywordtype">intent(inout)</span> :: io_configuration</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">procedure</span>(writer_field_manager_unserialise_state) :: unserialise_writer_field_manager</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">integer</span> :: ncid, ierr</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_open(path = options_get_string(io_configuration%options_database, <span class="stringliteral">&quot;checkpoint&quot;</span>), &amp;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;         mode = nf90_nowrite, ncid = ncid))</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">call </span>get_io_server_serialised_bytes(ncid, io_configuration%number_of_io_servers, io_configuration%my_io_rank, &amp;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;         <span class="stringliteral">&quot;serialised_writer_manager&quot;</span>, raw_bytes)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">call </span>restart_writer_field_manager_from_checkpoint(unserialise_writer_field_manager, raw_bytes)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">deallocate</span>(raw_bytes)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_close(ncid))</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_cgraph" id="anamespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_cgraph">
<area shape="rect" title="Reactivates the writer field manager state from the checkpoint file, for memory reasons this will ope..." alt="" coords="5,107,161,163"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="507,127,674,169"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ae6fa2d9320b51df852a8091efe4eaeab" title="Retrieves some IO server serialised bytes which will make up the state of a specific facet...." alt="" coords="209,85,448,126"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088" title="Retrieves a string value from the database that matches the provided key." alt="" coords="254,202,403,243"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ad750d4f0fe0a79ee6fd675fcc5bb14e9" title="Will restart the field manager state from the checkpoint file." alt="" coords="237,5,420,61"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="737,76,879,103"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="931,69,1097,110"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="516,264,665,320"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="512,199,669,241"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="733,271,883,313"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="496,21,685,48"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_icgraph" id="anamespaceio__server__state__reader__mod_ac3ee89021b7ad8db947b5a370ab647cc_icgraph">
<area shape="rect" title="Reactivates the writer field manager state from the checkpoint file, for memory reasons this will ope..." alt="" coords="507,49,663,105"/>
<area shape="rect" href="namespacewriter__field__manager__mod.html#a061c34fe0697d9639defd2f0926e2e74" title="Initialises the writer field manager." alt="" coords="278,5,425,61"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,86,459,157"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,20,196,47"/>
</map>
</div>

</div>
</div>
<a id="abed991a38346a4f13146d92cea1b801e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed991a38346a4f13146d92cea1b801e">&#9670;&nbsp;</a></span>read_io_server_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_server_state_reader_mod::read_io_server_configuration </td>
          <td>(</td>
          <td class="paramtype">character(len=string_length), intent(in)&#160;</td>
          <td class="paramname"><em>checkpoint_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(:), intent(inout), allocatable&#160;</td>
          <td class="paramname"><em>io_xml_configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>io_communicator_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the IO server configuration, which is the XML configuration initially run with and stored in the checkpoint. Note that this will open, read the XML in and then close the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">checkpoint_filename</td><td>The checkpoint filename to open and read from </td></tr>
    <tr><td class="paramname">io_xml_configuration</td><td>XML configuration is read from the checkpoint and placed into here </td></tr>
    <tr><td class="paramname">io_communicator_arg</td><td>The MPI IO server communicator </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00071">71</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">character(len=STRING_LENGTH)</span>, <span class="keywordtype">intent(in)</span> :: checkpoint_filename</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span>, <span class="keywordtype">intent(inout)</span> :: io_xml_configuration</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: io_communicator_arg</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">integer</span> :: ncid, number_io_server, my_io_server_rank, ierr</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">integer</span> :: dim_id, dim_size</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">logical</span> :: found</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">call </span>mpi_comm_rank(io_communicator_arg, my_io_server_rank, ierr)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">call </span>mpi_comm_size(io_communicator_arg, number_io_server, ierr)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_open(path = checkpoint_filename, mode = nf90_nowrite, ncid = ncid))</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inq_dimid(ncid, <span class="stringliteral">&quot;entries_directory_dim&quot;</span>, dim_id), found)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (.not. found) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">if</span> (my_io_server_rank==0) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;Restarting the IO server fresh as the checkpoint file does not contain IO state&quot;</span>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordflow">      end if</span>      </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keywordflow">    end if</span>    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_inquire_dimension(ncid, dim_id, len=dim_size))    </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (dim_size .ne. number_io_server) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;Can not restart IO server with a different number of IO servers&quot;</span>)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">call </span>get_io_server_configuration(ncid, io_xml_configuration)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">call </span>check_netcdf_status(nf90_close(ncid))</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_cgraph" id="anamespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_cgraph">
<area shape="rect" title="Reads the IO server configuration, which is the XML configuration initially run with and stored in th..." alt="" coords="5,27,231,68"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="545,27,712,68"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="760,63,903,90"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ace98af73c4d4f36a4356adbf4efb1ddc" title="Retrieves the IO server XML configuration from the checkpoint file." alt="" coords="279,27,497,68"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="951,56,1117,97"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_icgraph" id="anamespaceio__server__state__reader__mod_abed991a38346a4f13146d92cea1b801e_icgraph">
<area shape="rect" title="Reads the IO server configuration, which is the XML configuration initially run with and stored in th..." alt="" coords="268,35,493,77"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="17,5,208,32"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="5,57,220,127"/>
</map>
</div>

</div>
</div>
<a id="a2fd344d14e8cfe309b319213650c0b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd344d14e8cfe309b319213650c0b8c">&#9670;&nbsp;</a></span>restart_instantaneous_state_from_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::restart_instantaneous_state_from_checkpoint </td>
          <td>(</td>
          <td class="paramtype">character, dimension(:), allocatable&#160;</td>
          <td class="paramname"><em>raw_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will restart the instantaneous manipulation state from the checkpoint file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw_byte</td><td>The serialised byte state to unpackage and restart from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00312">312</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (.not. <span class="keyword">allocated</span>(raw_bytes)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;On restart no instantaneous state in checkpoint file&quot;</span>)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keyword">call </span>unserialise_instantaneous_state(raw_bytes)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_cgraph" id="anamespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_cgraph">
<area shape="rect" title="Will restart the instantaneous manipulation state from the checkpoint file." alt="" coords="5,31,191,87"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="245,13,435,39"/>
<area shape="rect" href="namespaceinstantaneous__time__manipulation__mod.html#a05f91c0341154b1a62fc61d5afe0e2a1" title="Unpacks some serialised byte data to initialise this manipulator to some previous state." alt="" coords="239,63,441,119"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="489,13,632,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="680,5,847,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_icgraph" id="anamespaceio__server__state__reader__mod_a2fd344d14e8cfe309b319213650c0b8c_icgraph">
<area shape="rect" title="Will restart the instantaneous manipulation state from the checkpoint file." alt="" coords="711,38,896,94"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="507,38,663,94"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985" title="Initialises the write federator and configures it based on the user configuration...." alt="" coords="265,5,437,47"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,71,459,141"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,13,196,39"/>
</map>
</div>

</div>
</div>
<a id="a629f60c48b74a642c82f54b10226201e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629f60c48b74a642c82f54b10226201e">&#9670;&nbsp;</a></span>restart_timeaveraged_state_from_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::restart_timeaveraged_state_from_checkpoint </td>
          <td>(</td>
          <td class="paramtype">character, dimension(:), allocatable&#160;</td>
          <td class="paramname"><em>raw_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will restart the time averaged manipulation state from the checkpoint file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw_byte</td><td>The serialised byte state to unpackage and restart from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00300">300</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (.not. <span class="keyword">allocated</span>(raw_bytes)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;On restart no time averaged state in checkpoint file&quot;</span>)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">call </span>unserialise_time_averaged_state(raw_bytes)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_cgraph" id="anamespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_cgraph">
<area shape="rect" title="Will restart the time averaged manipulation state from the checkpoint file." alt="" coords="5,31,188,87"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="267,15,456,42"/>
<area shape="rect" href="namespacetimeaveraged__time__manipulation__mod.html#a35f58180460226c8d79501df2076eaa9" title="Unserialises some byte data to initialise the state from some previous version." alt="" coords="236,68,487,109"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="571,13,713,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="797,5,964,47"/>
<area shape="rect" href="namespacetimeaveraged__time__manipulation__mod.html#a3d50d634cdf0a28d0ed7651e3a025416" title="Will create a specific time averaged completed value based upon the provided serialised data." alt="" coords="535,63,749,119"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_icgraph" id="anamespaceio__server__state__reader__mod_a629f60c48b74a642c82f54b10226201e_icgraph">
<area shape="rect" title="Will restart the time averaged manipulation state from the checkpoint file." alt="" coords="711,38,893,94"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="507,38,663,94"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985" title="Initialises the write federator and configures it based on the user configuration...." alt="" coords="265,5,437,47"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,71,459,141"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,13,196,39"/>
</map>
</div>

</div>
</div>
<a id="ad750d4f0fe0a79ee6fd675fcc5bb14e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad750d4f0fe0a79ee6fd675fcc5bb14e9">&#9670;&nbsp;</a></span>restart_writer_field_manager_from_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::restart_writer_field_manager_from_checkpoint </td>
          <td>(</td>
          <td class="paramtype">procedure(<a class="el" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html">writer_field_manager_unserialise_state</a>)&#160;</td>
          <td class="paramname"><em>unserialise_writer_field_manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(:), allocatable&#160;</td>
          <td class="paramname"><em>raw_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will restart the field manager state from the checkpoint file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unserialise_writer_field_manager</td><td>The unserialise field manager procedure, done this way due to module ordering </td></tr>
    <tr><td class="paramname">raw_byte</td><td>The serialised byte state to unpackage and restart from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00325">325</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">procedure</span>(writer_field_manager_unserialise_state) :: unserialise_writer_field_manager</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (.not. <span class="keyword">allocated</span>(raw_bytes)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;On restart no writer field manager state in checkpoint file&quot;</span>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">call </span>unserialise_writer_field_manager(raw_bytes)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_cgraph" id="anamespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_cgraph">
<area shape="rect" title="Will restart the field manager state from the checkpoint file." alt="" coords="5,5,188,61"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="236,20,425,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="473,20,616,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="664,13,831,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_icgraph" id="anamespaceio__server__state__reader__mod_ad750d4f0fe0a79ee6fd675fcc5bb14e9_icgraph">
<area shape="rect" title="Will restart the field manager state from the checkpoint file." alt="" coords="711,49,893,105"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ac3ee89021b7ad8db947b5a370ab647cc" title="Reactivates the writer field manager state from the checkpoint file, for memory reasons this will ope..." alt="" coords="507,49,663,105"/>
<area shape="rect" href="namespacewriter__field__manager__mod.html#a061c34fe0697d9639defd2f0926e2e74" title="Initialises the writer field manager." alt="" coords="278,5,425,61"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,86,459,157"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,20,196,47"/>
</map>
</div>

</div>
</div>
<a id="a87dbe83976cbed778e4f17006ce43a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87dbe83976cbed778e4f17006ce43a7a">&#9670;&nbsp;</a></span>restart_writer_state_from_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::restart_writer_state_from_checkpoint </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structwriter__types__mod_1_1writer__type.html">writer_type</a>), dimension(:)&#160;</td>
          <td class="paramname"><em>writer_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(:), allocatable&#160;</td>
          <td class="paramname"><em>raw_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restarts the writer state from a specific checkpoint byte data chunk of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer_entries</td><td>The array of writer entries to fill in </td></tr>
    <tr><td class="paramname">raw_byte</td><td>The serialised byte state to unpackage and restart from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00251">251</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">type</span>(writer_type), <span class="keywordtype">dimension(:)</span> :: writer_entries</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">integer</span> :: i, number_entries, current_point, byte_size</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (.not. <span class="keyword">allocated</span>(raw_bytes)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;On restart no writer state in checkpoint file&quot;</span>)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    current_point=1</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    number_entries=unpack_scalar_integer_from_bytedata(raw_bytes, current_point)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (number_entries .ne. <span class="keyword">size</span>(writer_entries)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;On restart have a different number of configured entries than those in the checkpoint file&quot;</span>)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">do</span> i=1, <span class="keyword">size</span>(writer_entries)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">if</span> (writer_entries(i)%include_in_io_state_write) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        byte_size=unpack_scalar_integer_from_bytedata(raw_bytes, current_point)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keyword">call </span>unserialise_writer_type(writer_entries(i), raw_bytes(current_point:current_point+byte_size-1))</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        current_point=current_point+byte_size</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keywordflow">    end do</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a87dbe83976cbed778e4f17006ce43a7a_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a87dbe83976cbed778e4f17006ce43a7a_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a87dbe83976cbed778e4f17006ce43a7a_cgraph" id="anamespaceio__server__state__reader__mod_a87dbe83976cbed778e4f17006ce43a7a_cgraph">
<area shape="rect" title="Restarts the writer state from a specific checkpoint byte data chunk of memory." alt="" coords="5,53,177,109"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="497,13,639,39"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="230,38,419,65"/>
<area shape="rect" href="namespacedata__utils__mod.html#ab3602147fea5dd8f50911c7f4c93ff76" title="Unpacks a scalar integer from some byte data, this is a very simple unpack routine wrapping the trans..." alt="" coords="225,89,424,131"/>
<area shape="rect" href="namespacewriter__types__mod.html#a433965efb35f6d750e5365c1257057bb" title="Unserialises some byte data into the writer in order to recreate the state of the writer." alt="" coords="229,155,421,196"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="725,5,891,47"/>
<area shape="rect" href="namespacewriter__types__mod.html#a7b5b6fc49221508341b7c744284b2d4c" title="Unserialises byte data into a writer field type." alt="" coords="472,155,664,196"/>
<area shape="rect" href="namespacewriter__types__mod.html#a9c6f0c0e7d2ea3c758c6df1041d175a8" title="Unserialsies collective values contained in some data." alt="" coords="712,125,904,167"/>
<area shape="rect" href="namespacewriter__types__mod.html#a536a4c1352bbc1d7a21aedec40ba4f8e" title="Unserialises some byte data into data values." alt="" coords="952,155,1144,196"/>
<area shape="rect" href="namespacewriter__types__mod.html#a0c1e3ad6ff464304020f0be57e7e7df0" title="Inflates some byte data into a string map." alt="" coords="1192,155,1384,196"/>
</map>
</div>

</div>
</div>
<a id="a6f8d354060b4c24f27e7e10f0e64b8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8d354060b4c24f27e7e10f0e64b8c5">&#9670;&nbsp;</a></span>restart_writer_state_timepoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_server_state_reader_mod::restart_writer_state_timepoints </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout), volatile&#160;</td>
          <td class="paramname"><em>time_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(:), allocatable&#160;</td>
          <td class="paramname"><em>raw_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restarts the writer state timepoints held in the writer federator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_points</td><td>The timepoints hashmap which is filled in from the serialised version </td></tr>
    <tr><td class="paramname">raw_byte</td><td>The serialised byte state to unpackage and restart from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="io__state__reader_8F90_source.html#l00278">278</a> of file <a class="el" href="io__state__reader_8F90_source.html">io_state_reader.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">volatile</span>, <span class="keywordtype">intent(inout)</span> :: time_points</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">character</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: raw_bytes</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">integer</span> :: i, number_entries, current_point, byte_size, timestep_key</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="keywordtype">    real</span>(kind=<a class="code" href="namespacedatadefn__mod.html#a39b79f8cc843d236d3b47f5c81b64368">default_precision</a>) :: r_value</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (.not. <span class="keyword">allocated</span>(raw_bytes)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;On restart no writer state timepoints in checkpoint file&quot;</span>)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    current_point=1</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    number_entries=unpack_scalar_integer_from_bytedata(raw_bytes, current_point)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">do</span> i=1, number_entries</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      timestep_key=unpack_scalar_integer_from_bytedata(raw_bytes, current_point)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      r_value=unpack_scalar_dp_real_from_bytedata(raw_bytes, current_point)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keyword">call </span>c_put_real(time_points, conv_to_string(timestep_key), r_value)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="keywordflow">    end do</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_cgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_cgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_cgraph" id="anamespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_cgraph">
<area shape="rect" title="Restarts the writer state timepoints held in the writer federator." alt="" coords="5,57,177,113"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="232,13,421,39"/>
<area shape="rect" href="namespacedata__utils__mod.html#a3b50dff5f8dae4a3bc361d1dce5f7711" title="Unpacks a double precision scalar real from some byte data, this is a very simple unpack routine wrap..." alt="" coords="225,64,428,105"/>
<area shape="rect" href="namespacedata__utils__mod.html#ab3602147fea5dd8f50911c7f4c93ff76" title="Unpacks a scalar integer from some byte data, this is a very simple unpack routine wrapping the trans..." alt="" coords="227,129,426,171"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="476,13,619,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="667,5,833,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_icgraph.png" border="0" usemap="#anamespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_icgraph" alt=""/></div>
<map name="namespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_icgraph" id="anamespaceio__server__state__reader__mod_a6f8d354060b4c24f27e7e10f0e64b8c5_icgraph">
<area shape="rect" title="Restarts the writer state timepoints held in the writer federator." alt="" coords="711,38,883,94"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="507,38,663,94"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985" title="Initialises the write federator and configures it based on the user configuration...." alt="" coords="265,5,437,47"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="244,71,459,141"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="5,13,196,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacelogging__mod_html_ad68309846cd8f9e77edaa6abd02f65a0"><div class="ttname"><a href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">logging_mod::log_error</a></div><div class="ttdeci">integer, parameter, public log_error</div><div class="ttdoc">Only log ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00011">logging.F90:11</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_a10e28447dd10ef9f92d205bc98fb26d3"><div class="ttname"><a href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">logging_mod::log_warn</a></div><div class="ttdeci">integer, parameter, public log_warn</div><div class="ttdoc">Log WARNING and ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00012">logging.F90:12</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ac4f13ac385499c85190cb184030e4f45"><div class="ttname"><a href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">logging_mod::log_log</a></div><div class="ttdeci">subroutine, public log_log(level, message, str)</div><div class="ttdoc">Logs a message at the specified level. If the level is above the current level then the message is ig...</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00074">logging.F90:75</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ad95937a250467334622daeb5cff78c20"><div class="ttname"><a href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">logging_mod::log_master_log</a></div><div class="ttdeci">subroutine, public log_master_log(level, message)</div><div class="ttdoc">Will log just from the master process.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00046">logging.F90:47</a></div></div>
<div class="ttc" id="anamespacedatadefn__mod_html_a39b79f8cc843d236d3b47f5c81b64368"><div class="ttname"><a href="namespacedatadefn__mod.html#a39b79f8cc843d236d3b47f5c81b64368">datadefn_mod::default_precision</a></div><div class="ttdeci">integer, parameter, public default_precision</div><div class="ttdoc">MPI communication type which we use for the prognostic and calculation data.</div><div class="ttdef"><b>Definition:</b> <a href="datadefn_8F90_source.html#l00017">datadefn.F90:17</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
