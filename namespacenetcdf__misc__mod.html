<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: netcdf_misc_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">netcdf_misc_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NetCDF misc functionality which can be shared between modules that work with NetCDF files.  
<a href="namespacenetcdf__misc__mod.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a159f13789af0cecc704b47fde431b241"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241">check_netcdf_status</a> (status, found_flag)</td></tr>
<tr class="memdesc:a159f13789af0cecc704b47fde431b241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whether a dimension or variable exists within the NetCDF data file.  <a href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241">More...</a><br /></td></tr>
<tr class="separator:a159f13789af0cecc704b47fde431b241"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NetCDF misc functionality which can be shared between modules that work with NetCDF files. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a159f13789af0cecc704b47fde431b241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159f13789af0cecc704b47fde431b241">&#9670;&nbsp;</a></span>check_netcdf_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public netcdf_misc_mod::check_netcdf_status </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(out), optional&#160;</td>
          <td class="paramname"><em>found_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whether a dimension or variable exists within the NetCDF data file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The NetCDF status flag </td></tr>
    <tr><td class="paramname">foundFlag</td><td>Whether the field has been found or not </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="netcdf__misc_8F90_source.html#l00018">18</a> of file <a class="el" href="netcdf__misc_8F90_source.html">netcdf_misc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: status</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordtype">logical</span>, <span class="keywordtype">intent(out)</span>, <span class="keywordtype">optional</span> :: found_flag</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">present</span>(found_flag)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      found_flag = status /= nf90_ebaddim .and. status /= nf90_enotatt .and. status /= nf90_enotvar</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;      <span class="keywordflow">if</span> (.not. found_flag) <span class="keywordflow">return</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span> (status /= nf90_noerr) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;NetCDF returned error code of &quot;</span>//trim(nf90_strerror(status)))</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keywordflow">    end if</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_cgraph.png" border="0" usemap="#anamespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_cgraph" alt=""/></div>
<map name="namespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_cgraph" id="anamespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_cgraph">
<area shape="rect" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="5,5,172,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="220,13,363,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="411,5,577,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_icgraph.png" border="0" usemap="#anamespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_icgraph" alt=""/></div>
<map name="namespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_icgraph" id="anamespacenetcdf__misc__mod_a159f13789af0cecc704b47fde431b241_icgraph">
<area shape="rect" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="1757,933,1924,975"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a2c67fccb16973e19938a1be7119a0f64" title="Call back for the inter IO reduction which actually does the NetCDF file closing which is a collectiv..." alt="" coords="1511,5,1669,47"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a1ce0c117e268cee4460b6385bc8629c3" title="Defines a coordinate variable in the NetCDF file." alt="" coords="1509,426,1671,482"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a6c970a34b31a068f500ae6a1235d9906" title="Defines a NetCDF file &#45; which creates it, defines all dimensions and variables. This must be called b..." alt="" coords="1230,433,1390,475"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a9492c076905001a53f8cb3085739d6db" title="Defines spatial dimensions in the diagnostics file." alt="" coords="1507,505,1673,547"/>
<area shape="rect" href="namespaceio__server__state__writer__mod.html#a52442fc6df103bdee12c9d95cc9a9a73" title="Defines the dimensions and variables in a NetCDF file that consitute the IO server current state...." alt="" coords="1233,1109,1387,1165"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#ab90e4b2c185d22faacd6f23c39bd9449" title="Stores the IO server state in the NetCDF file." alt="" coords="949,1116,1135,1157"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#adb0cc64b982ca21514e74a881b1ee30f" title="Defines the options_database variable in the NetCDF file." alt="" coords="1489,570,1691,626"/>
<area shape="rect" href="namespaceio__server__state__writer__mod.html#a0bb9318bbaa968f84db7a18afa572b4a" title="Defines some state storate for a specific facet of the IO server. This creates the directory (locatio..." alt="" coords="1500,1144,1680,1185"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a66915aa056fc8a300dbedbc0c7b0c3ca" title="Defines dimensions for all required dimensions. This is usually the number required plus one,..." alt="" coords="1506,650,1674,706"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a58faae9f572a8860a586d47251df2ab4" title="Defines all variables in the file writer state." alt="" coords="1513,729,1667,771"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ace98af73c4d4f36a4356adbf4efb1ddc" title="Retrieves the IO server XML configuration from the checkpoint file." alt="" coords="1481,1379,1699,1420"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#abed991a38346a4f13146d92cea1b801e" title="Reads the IO server configuration, which is the XML configuration initially run with and stored in th..." alt="" coords="1197,1345,1423,1387"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ae6fa2d9320b51df852a8091efe4eaeab" title="Retrieves some IO server serialised bytes which will make up the state of a specific facet...." alt="" coords="1471,1496,1709,1537"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#a21bc5840c3287e6dcbbb29f4480bbdde" title="Reactivates the writer federator and everything beneath it (i.e. just not the writer field manager...." alt="" coords="1232,1437,1388,1493"/>
<area shape="rect" href="namespaceio__server__state__reader__mod.html#ac3ee89021b7ad8db947b5a370ab647cc" title="Reactivates the writer field manager state from the checkpoint file, for memory reasons this will ope..." alt="" coords="1232,1523,1388,1579"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#ab05b5aee60f3cd114e9457a96bc4434b" title="Retrieves the number of option key&#45;value pairs that are present in the checkpoint file." alt="" coords="1507,1714,1673,1770"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a0f644955464877087b5e779b48216188" title="Will read in and initialise the options database from the contents of the checkpoint file." alt="" coords="1225,1663,1395,1719"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a234a39ac1b4d8067a1db4a6955848b83" title="Will parse the NetCDF checkpoint file and loads the configuration into the options database." alt="" coords="935,1609,1149,1665"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a10f13979aff7110f8df58356fb4e398d" title="Writes collective variables, where we are working with the values from multiple MONCs and storing the..." alt="" coords="1227,743,1393,799"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a0a437b7c2ee1752a8c3ad3ce4797cced" title="Writes the conditional diagnostic variable names into the NetCDF file." alt="" coords="1517,70,1663,126"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#abc1e910adcd0ef7c86299b5286fc365f" title="Writes contiguous collective variable blocks into the NetCDF files. These are blocks of data spanning..." alt="" coords="1231,824,1389,895"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#ae456ae2267a1cf3a1763d1cbd59039ab" title="Writes a coordinate variable into the NetCDF file." alt="" coords="1513,150,1667,206"/>
<area shape="rect" href="namespaceio__server__state__writer__mod.html#a6f99dece53eb5c51cf1fcbd384ea7d08" title="Packags up and writes the actual IO server state into the NetCDF file. The act of serialisation will ..." alt="" coords="1218,1203,1402,1244"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a767df50b485665dac93bfdf57897c667" title="Writes out global attributes into the checkpoint." alt="" coords="1513,230,1667,286"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a527dfbc289976e0eefcc432bb077040e" title=" " alt="" coords="1517,897,1663,939"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a646b3fed89978ea8212eece9494f7c54" title=" " alt="" coords="1509,962,1671,1018"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a2d8000c479d36f8c5c0c91aa482c9765" title="Writes out the options_database defining this model run." alt="" coords="1509,309,1671,351"/>
<area shape="rect" href="namespaceio__server__state__writer__mod.html#af3dc548945ef0bd31291214d13c4355b" title="Writes out the state for a specific facet into the NetCDF file. Note that this uses the ISO C binding..." alt="" coords="1503,1261,1677,1303"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a9271347f390a41c78caacc174002d0b4" title="Issues the actual file creation, write of available fields and closure if all completed." alt="" coords="477,537,621,579"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a4e6cf3c74ee165c8ece3735913e75e0a" title="Will check whether there are any pending writes and if so will issue a chain write for this." alt="" coords="241,494,391,550"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a977faf0b0a12f54b8002555e6f791856" title="Checks a writer trigger and issues a file creation along with field write if the conditions (time or ..." alt="" coords="243,573,389,615"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a9ec7f85e388c7212a8aa98acefc2b9d0" title="Call back for the inter IO reduction which actually does the NetCDF file closing which is a collectiv..." alt="" coords="5,494,183,550"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a1af403ddb2a3d977bfc3f81a6f834488" title="Checks all writer entries for any trigger fires and issues the underlying file storage." alt="" coords="11,573,177,615"/>
<area shape="rect" href="namespaceio__server__mod.html#ac818aa1985977c9887acda6315139114" title="Called to start the IO server and once this subroutine returns then it indicates that the IO server h..." alt="" coords="696,1401,887,1427"/>
<area shape="rect" href="interfaceio__server__state__reader__mod_1_1writer__field__manager__unserialise__state.html#af45885765439d168075186df796bdc07" title=" " alt="" coords="935,1433,1149,1504"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="269,1411,363,1438"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985" title="Initialises the write federator and configures it based on the user configuration...." alt="" coords="956,1368,1128,1409"/>
<area shape="rect" href="namespacewriter__field__manager__mod.html#a061c34fe0697d9639defd2f0926e2e74" title="Initialises the writer field manager." alt="" coords="969,1529,1115,1585"/>
<area shape="rect" href="namespacemonc__mod.html#aca3f98dc591c90feec3df9ddb3dd2d7f" title="Loads the configuration into the options database, either from a file or checkpoint." alt="" coords="712,1612,871,1653"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="471,1484,627,1525"/>
<area shape="rect" href="namespacetest__monc__mod.html#acece1f67f38b107c9e20b7b2d5dfaae4" title=" " alt="" coords="477,1579,620,1620"/>
<area shape="rect" href="namespacetest__science__constants__mod.html#a694616da54f6a8368798f51ee0605e22" title=" " alt="" coords="449,1644,648,1685"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="231,1477,401,1533"/>
<area shape="rect" href="test__monc_8F90.html#a4a1c75fa47435dd0a9a6afd7068428a2" title=" " alt="" coords="255,1586,377,1613"/>
<area shape="rect" href="test__scienceconstants_8F90.html#a7bdaa3a8dce08782ec81f46f2df80b0b" title=" " alt="" coords="236,1644,396,1685"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a797c4ff7ba5863cdff2746729ec8e1fc" title="Writes the contents of a variable to the NetCDF file. This also removes the written entries from the ..." alt="" coords="970,817,1114,859"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a3df9fda1cc189c370e8599947191e559" title="Determines if a file can be written to its overarching write representation. If so then a write is is..." alt="" coords="719,769,863,825"/>
<area shape="rect" href="namespacewriter__federator__mod.html#a303133afee5100e6a9b0b19ead391dfa" title="For a specific field wil determine and handle any outstanding fields writes until an outstanding writ..." alt="" coords="462,769,635,825"/>
<area shape="rect" href="namespacenetcdf__filetype__writer__mod.html#a605f56b2d81bbaf34377388f9d3f6ec1" title="Writes independent variables to the diagnostics file. This writes the entire variable and works by wr..." alt="" coords="1227,919,1393,975"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacelogging__mod_html_ad68309846cd8f9e77edaa6abd02f65a0"><div class="ttname"><a href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">logging_mod::log_error</a></div><div class="ttdeci">integer, parameter, public log_error</div><div class="ttdoc">Only log ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00011">logging.F90:11</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ac4f13ac385499c85190cb184030e4f45"><div class="ttname"><a href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">logging_mod::log_log</a></div><div class="ttdeci">subroutine, public log_log(level, message, str)</div><div class="ttdoc">Logs a message at the specified level. If the level is above the current level then the message is ig...</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00074">logging.F90:75</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
