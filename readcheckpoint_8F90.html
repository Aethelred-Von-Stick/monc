<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: components/checkpointer/src/readcheckpoint.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_3125beec713e04ee6d78a8173277d765.html">checkpointer</a></li><li class="navelem"><a class="el" href="dir_8857e3a7ddb9a342c3531a635e78e677.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">readcheckpoint.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="readcheckpoint_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacecheckpointer__read__checkpoint__mod"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html">checkpointer_read_checkpoint_mod</a></td></tr>
<tr class="memdesc:namespacecheckpointer__read__checkpoint__mod"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will read in a NetCDF checkpoint file and initialise the model <a class="el" href="namespacestate__mod.html" title="The model state which represents the current state of a run.">state_mod</a> based upon this. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a2c62e5fb27df55b95c5650b36e9a6545"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a2c62e5fb27df55b95c5650b36e9a6545">checkpointer_read_checkpoint_mod::read_checkpoint_file</a> (current_state, filename)</td></tr>
<tr class="memdesc:a2c62e5fb27df55b95c5650b36e9a6545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in a NetCDF checkpoint file and uses this to initialise the model.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a2c62e5fb27df55b95c5650b36e9a6545">More...</a><br /></td></tr>
<tr class="separator:a2c62e5fb27df55b95c5650b36e9a6545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3336ed10beeec4f2f93786e2f38af929"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a3336ed10beeec4f2f93786e2f38af929">checkpointer_read_checkpoint_mod::decompose_grid</a> (current_state)</td></tr>
<tr class="memdesc:a3336ed10beeec4f2f93786e2f38af929"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls out to the parallel decomposition strategy to decompose the grid based upon the configuration read and number of processes.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a3336ed10beeec4f2f93786e2f38af929">More...</a><br /></td></tr>
<tr class="separator:a3336ed10beeec4f2f93786e2f38af929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a41a580c7d12a2a608775b0a549ff9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a36a41a580c7d12a2a608775b0a549ff9">checkpointer_read_checkpoint_mod::initalise_source_and_sav_fields</a> (current_state)</td></tr>
<tr class="memdesc:a36a41a580c7d12a2a608775b0a549ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the source and sav (for u,v,w) fields for allocated prognostics.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a36a41a580c7d12a2a608775b0a549ff9">More...</a><br /></td></tr>
<tr class="separator:a36a41a580c7d12a2a608775b0a549ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5f8dd27f75ba3616afc0a89a868191"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a6a5f8dd27f75ba3616afc0a89a868191">checkpointer_read_checkpoint_mod::load_misc</a> (current_state, ncid)</td></tr>
<tr class="memdesc:a6a5f8dd27f75ba3616afc0a89a868191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads in misc data from the checkpoint file.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a6a5f8dd27f75ba3616afc0a89a868191">More...</a><br /></td></tr>
<tr class="separator:a6a5f8dd27f75ba3616afc0a89a868191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e451c36167ef3b2b1528583f42bbff"><td class="memItemLeft" align="right" valign="top">character(len=:) function, allocatable, target&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#ad3e451c36167ef3b2b1528583f42bbff">checkpointer_read_checkpoint_mod::read_specific_global_attribute</a> (ncid, key)</td></tr>
<tr class="memdesc:ad3e451c36167ef3b2b1528583f42bbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will read a global attribute from the checkpoint file - note that it allocates string memory here so the caller should deallocate this to avoid memory leaks.  <a href="namespacecheckpointer__read__checkpoint__mod.html#ad3e451c36167ef3b2b1528583f42bbff">More...</a><br /></td></tr>
<tr class="separator:ad3e451c36167ef3b2b1528583f42bbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ef1c48768cf2dfd7c72485a9aeb323"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a50ef1c48768cf2dfd7c72485a9aeb323">checkpointer_read_checkpoint_mod::load_all_fields</a> (current_state, ncid)</td></tr>
<tr class="memdesc:a50ef1c48768cf2dfd7c72485a9aeb323"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in and initialises all prognostic fields. It will check the NetCDF checkpoint file and depending upon what data is in the file then it will set the corresponding fields up which in essence determines whether it has 1, 2 or 3D fields. This also supports 1, 2 or 3D <a class="el" href="namespacegrids__mod.html" title="Functionality to support the different types of grid and abstraction between global grids and local o...">grids_mod</a> which will set any missing grid dimensions to be 1.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a50ef1c48768cf2dfd7c72485a9aeb323">More...</a><br /></td></tr>
<tr class="separator:a50ef1c48768cf2dfd7c72485a9aeb323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5891369d5acb69d237f9b5816704889"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#aa5891369d5acb69d237f9b5816704889">checkpointer_read_checkpoint_mod::does_field_exist</a> (ncid, variable_key)</td></tr>
<tr class="memdesc:aa5891369d5acb69d237f9b5816704889"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a variable (field) exists within the NetCDF checkpoint file @ncid The NetCDF file id @variable_key The NetCDF variable key we are looking up.  <a href="namespacecheckpointer__read__checkpoint__mod.html#aa5891369d5acb69d237f9b5816704889">More...</a><br /></td></tr>
<tr class="separator:aa5891369d5acb69d237f9b5816704889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f69f73beff8fb630b1e8c7b530ae05"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#ac4f69f73beff8fb630b1e8c7b530ae05">checkpointer_read_checkpoint_mod::load_q_indices</a> (ncid)</td></tr>
<tr class="memdesc:ac4f69f73beff8fb630b1e8c7b530ae05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the Q indices (if they exist) into the model Q index register.  <a href="namespacecheckpointer__read__checkpoint__mod.html#ac4f69f73beff8fb630b1e8c7b530ae05">More...</a><br /></td></tr>
<tr class="separator:ac4f69f73beff8fb630b1e8c7b530ae05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a01ad171aa30db396da469b63f5852"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a94a01ad171aa30db396da469b63f5852">checkpointer_read_checkpoint_mod::get_number_q_indices</a> (ncid)</td></tr>
<tr class="memdesc:a94a01ad171aa30db396da469b63f5852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve sthe number of Q indice entries in the NetCDF. This is optional, so may return 0.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a94a01ad171aa30db396da469b63f5852">More...</a><br /></td></tr>
<tr class="separator:a94a01ad171aa30db396da469b63f5852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7d8338386306145ed7751af9350b93"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#abe7d8338386306145ed7751af9350b93">checkpointer_read_checkpoint_mod::load_single_3d_field</a> (ncid, local_grid, field, z_grid, y_grid, x_grid, variable_key, multi_process, fourth_dim_loc)</td></tr>
<tr class="memdesc:abe7d8338386306145ed7751af9350b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads in and initialises a single 3D prognostic field. Even if the model is being run in 1 or 2D, the fields are still stored in 3D with the missing dimension sizes being set to one.  <a href="namespacecheckpointer__read__checkpoint__mod.html#abe7d8338386306145ed7751af9350b93">More...</a><br /></td></tr>
<tr class="separator:abe7d8338386306145ed7751af9350b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb30027932df82d1ee7fb0cf18b50dec"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#acb30027932df82d1ee7fb0cf18b50dec">checkpointer_read_checkpoint_mod::load_global_grid</a> (current_state, ncid, z_dim, y_dim, x_dim, z_found, y_found, x_found)</td></tr>
<tr class="memdesc:acb30027932df82d1ee7fb0cf18b50dec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in and initialises the primal grid from the NetCDF checkpoint and will handle 1, 2 or 3D runs.  <a href="namespacecheckpointer__read__checkpoint__mod.html#acb30027932df82d1ee7fb0cf18b50dec">More...</a><br /></td></tr>
<tr class="separator:acb30027932df82d1ee7fb0cf18b50dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9b91ebcd530e0f7653c0f4bedb3827"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a8b9b91ebcd530e0f7653c0f4bedb3827">checkpointer_read_checkpoint_mod::load_mean_profiles</a> (current_state, ncid, z_dim_id)</td></tr>
<tr class="separator:a8b9b91ebcd530e0f7653c0f4bedb3827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7eed392de6205bc22b3e842ded0e45a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#af7eed392de6205bc22b3e842ded0e45a">checkpointer_read_checkpoint_mod::load_pdf_profiles</a> (current_state, ncid, z_dim_id)</td></tr>
<tr class="separator:af7eed392de6205bc22b3e842ded0e45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e630e01fb93213ab0c62be946d406b5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a8e630e01fb93213ab0c62be946d406b5">checkpointer_read_checkpoint_mod::define_vertical_levels</a> (ncid, current_state, z_key, z_dim_id)</td></tr>
<tr class="memdesc:a8e630e01fb93213ab0c62be946d406b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the vertical levels of the grid. This is both the grid points and corresponding height for each point in metres.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a8e630e01fb93213ab0c62be946d406b5">More...</a><br /></td></tr>
<tr class="separator:a8e630e01fb93213ab0c62be946d406b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f64ad2ba0d044e8b4f7211d686641ef"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a3f64ad2ba0d044e8b4f7211d686641ef">checkpointer_read_checkpoint_mod::read_dimension_of_grid</a> (ncid, grid, variable_key, dimension, dimension_id)</td></tr>
<tr class="memdesc:a3f64ad2ba0d044e8b4f7211d686641ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a specific dimension of the grid from the NetCDF and sets this up in the <a class="el" href="namespacestate__mod.html" title="The model state which represents the current state of a run.">state_mod</a>.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a3f64ad2ba0d044e8b4f7211d686641ef">More...</a><br /></td></tr>
<tr class="separator:a3f64ad2ba0d044e8b4f7211d686641ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad2e696f2dcbacfdc0fbc4bb55b1025"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#a5ad2e696f2dcbacfdc0fbc4bb55b1025">checkpointer_read_checkpoint_mod::read_single_variable</a> (ncid, key, int_data, real_data, real_data_1d, real_data_1d_double, real_data_2d_double, real_data_3d, integer_data_1d, start, count, map)</td></tr>
<tr class="memdesc:a5ad2e696f2dcbacfdc0fbc4bb55b1025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in a single variable and sets the values of the data based upon this. Handles reading in and setting vectors of 1 or 3D reals and 1d integers.  <a href="namespacecheckpointer__read__checkpoint__mod.html#a5ad2e696f2dcbacfdc0fbc4bb55b1025">More...</a><br /></td></tr>
<tr class="separator:a5ad2e696f2dcbacfdc0fbc4bb55b1025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25af7b1f1b80f4b22f2ae6ef2c2d422"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecheckpointer__read__checkpoint__mod.html#aa25af7b1f1b80f4b22f2ae6ef2c2d422">checkpointer_read_checkpoint_mod::read_dimensions</a> (ncid, z_dim, y_dim, x_dim, z_found, y_found, x_found)</td></tr>
<tr class="memdesc:aa25af7b1f1b80f4b22f2ae6ef2c2d422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will read in the dimension sizes from the NetCDF file along with whether the z, y and x dimensions have been found. If any have not been found then this corresponds to running the model with 2 or 1D <a class="el" href="namespacegrids__mod.html" title="Functionality to support the different types of grid and abstraction between global grids and local o...">grids_mod</a>.  <a href="namespacecheckpointer__read__checkpoint__mod.html#aa25af7b1f1b80f4b22f2ae6ef2c2d422">More...</a><br /></td></tr>
<tr class="separator:aa25af7b1f1b80f4b22f2ae6ef2c2d422"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
