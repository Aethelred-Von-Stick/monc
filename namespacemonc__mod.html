<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: monc_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">monc_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main core entry point to the rest of the model, this is called by the program main.  
<a href="namespacemonc__mod.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacemonc__mod_1_1io__server__run__procedure.html">io_server_run_procedure</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IO server entry procedure which may be passed to the core entry point (if IO server is enabled)  <a href="interfacemonc__mod_1_1io__server__run__procedure.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:aa2abab500db49cd9c95e41632531a40f"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f">monc_core_bootstrap</a> (component_descriptions, io_server_run)</td></tr>
<tr class="memdesc:aa2abab500db49cd9c95e41632531a40f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main core entry point to bootstrap running the model.  <a href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f">More...</a><br /></td></tr>
<tr class="separator:aa2abab500db49cd9c95e41632531a40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab06337503a861d665ef76f6553e3cc"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a9ab06337503a861d665ef76f6553e3cc">determine_if_io_server_enabled</a> (options_database)</td></tr>
<tr class="memdesc:a9ab06337503a861d665ef76f6553e3cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the IO server should be enabled or not.  <a href="namespacemonc__mod.html#a9ab06337503a861d665ef76f6553e3cc">More...</a><br /></td></tr>
<tr class="separator:a9ab06337503a861d665ef76f6553e3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3f98dc591c90feec3df9ddb3dd2d7f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#aca3f98dc591c90feec3df9ddb3dd2d7f">load_model_configuration</a> (state, options_database)</td></tr>
<tr class="memdesc:aca3f98dc591c90feec3df9ddb3dd2d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the configuration into the options database, either from a file or checkpoint.  <a href="namespacemonc__mod.html#aca3f98dc591c90feec3df9ddb3dd2d7f">More...</a><br /></td></tr>
<tr class="separator:aca3f98dc591c90feec3df9ddb3dd2d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65fb2ffe75d12e876490d1ea3b9349b7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a65fb2ffe75d12e876490d1ea3b9349b7">perform_options_compatibility_checks</a> (options_database)</td></tr>
<tr class="memdesc:a65fb2ffe75d12e876490d1ea3b9349b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs options_database compatibility checks.  <a href="namespacemonc__mod.html#a65fb2ffe75d12e876490d1ea3b9349b7">More...</a><br /></td></tr>
<tr class="separator:a65fb2ffe75d12e876490d1ea3b9349b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e8a1e5e542e0cb9d187870fe57f0f9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9">monc_run</a> (component_descriptions, state)</td></tr>
<tr class="memdesc:ad9e8a1e5e542e0cb9d187870fe57f0f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by MONC processes to run the MONC model.  <a href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9">More...</a><br /></td></tr>
<tr class="separator:ad9e8a1e5e542e0cb9d187870fe57f0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744e82f06788a2c99c38569bc2d84cfd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd">perform_model_steps</a> (state, timestepping_time, modeldump_time)</td></tr>
<tr class="memdesc:a744e82f06788a2c99c38569bc2d84cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will run through the actual model stages and call the appropriate callbacks at each stage.  <a href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd">More...</a><br /></td></tr>
<tr class="separator:a744e82f06788a2c99c38569bc2d84cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960c54442ba1c3ca7500451595b52984"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a960c54442ba1c3ca7500451595b52984">display_timestep_information</a> (timestep, start_time)</td></tr>
<tr class="memdesc:a960c54442ba1c3ca7500451595b52984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides timestepping information about the current step and performance.  <a href="namespacemonc__mod.html#a960c54442ba1c3ca7500451595b52984">More...</a><br /></td></tr>
<tr class="separator:a960c54442ba1c3ca7500451595b52984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b3f09b5a2a45e4c853636e7d0cae14e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a2b3f09b5a2a45e4c853636e7d0cae14e">fill_registry_with_components</a> (options_database, component_descriptions)</td></tr>
<tr class="memdesc:a2b3f09b5a2a45e4c853636e7d0cae14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers each supplied component description.  <a href="namespacemonc__mod.html#a2b3f09b5a2a45e4c853636e7d0cae14e">More...</a><br /></td></tr>
<tr class="separator:a2b3f09b5a2a45e4c853636e7d0cae14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b31796521ca457b86e819854ec60a5f"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a7b31796521ca457b86e819854ec60a5f">is_present_and_true</a> (options_database, key)</td></tr>
<tr class="memdesc:a7b31796521ca457b86e819854ec60a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether an option is present in the database and true. This combines the key check and getting the value. Just calling to get the value directly will error if it does not exist, we don't nescesarily want for checking optional command line flags.  <a href="namespacemonc__mod.html#a7b31796521ca457b86e819854ec60a5f">More...</a><br /></td></tr>
<tr class="separator:a7b31796521ca457b86e819854ec60a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8dfd7360fd507b14957cd500ce7dd6"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a9f8dfd7360fd507b14957cd500ce7dd6">display_registed_components</a> ()</td></tr>
<tr class="memdesc:a9f8dfd7360fd507b14957cd500ce7dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the registered components and their version numbers.  <a href="namespacemonc__mod.html#a9f8dfd7360fd507b14957cd500ce7dd6">More...</a><br /></td></tr>
<tr class="separator:a9f8dfd7360fd507b14957cd500ce7dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0faaccda0cabe18aa8467680f968b7bf"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a0faaccda0cabe18aa8467680f968b7bf">split_communicator_into_monc_and_io</a> (moncs_per_io, monc_communicator, io_communicator, am_i_monc_process, corresponding_io_server_process)</td></tr>
<tr class="memdesc:a0faaccda0cabe18aa8467680f968b7bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits the MPI_COMM_WORLD communicator into MONC and IO separate communicators. The size of each depends on the stride supplied. This will deal with the case where you only have 1 extra process, for instance 3 MONCs to an IO server with 5 processes. 0=IO server, 1-3 are MONCS but by rights 4 would be an IO server. However we dont want to waste a process as an IO server which is not serving anything, hence in this edge case it will be used as a MONC instead.  <a href="namespacemonc__mod.html#a0faaccda0cabe18aa8467680f968b7bf">More...</a><br /></td></tr>
<tr class="separator:a0faaccda0cabe18aa8467680f968b7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07fc1b99da0c625847abacf25834e8c3"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a07fc1b99da0c625847abacf25834e8c3">get_number_io_processes</a> (total_ranks, moncs_per_io)</td></tr>
<tr class="memdesc:a07fc1b99da0c625847abacf25834e8c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based upon the total number of processes and the IO process id stride determines the number of processes that will be used for the IO server. The MONC processes is total processes - io processes.  <a href="namespacemonc__mod.html#a07fc1b99da0c625847abacf25834e8c3">More...</a><br /></td></tr>
<tr class="separator:a07fc1b99da0c625847abacf25834e8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79859e859b30ab7dd6a1761270bcf9f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#ab79859e859b30ab7dd6a1761270bcf9f">get_io_configuration</a> (options_database, ioserver_configuration_file, moncs_per_io_server)</td></tr>
<tr class="memdesc:ab79859e859b30ab7dd6a1761270bcf9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the IO server configuration and populates the required variables of the configuration file name and the placement period.  <a href="namespacemonc__mod.html#ab79859e859b30ab7dd6a1761270bcf9f">More...</a><br /></td></tr>
<tr class="separator:ab79859e859b30ab7dd6a1761270bcf9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209c568c73aa1bcda43b6ec44df579a1"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a209c568c73aa1bcda43b6ec44df579a1">get_mpi_threading_mode</a> ()</td></tr>
<tr class="memdesc:a209c568c73aa1bcda43b6ec44df579a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrives the configured MPI threading mode, this is serialized by default but can be overridden via environment variable.  <a href="namespacemonc__mod.html#a209c568c73aa1bcda43b6ec44df579a1">More...</a><br /></td></tr>
<tr class="separator:a209c568c73aa1bcda43b6ec44df579a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6be3c6cb64c627a1d191d04da0ce8d"><td class="memItemLeft" align="right" valign="top">character(len=string_length) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemonc__mod.html#a8e6be3c6cb64c627a1d191d04da0ce8d">mpi_threading_level_to_string</a> (lvl)</td></tr>
<tr class="memdesc:a8e6be3c6cb64c627a1d191d04da0ce8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an MPI threading level to the string representation of it.  <a href="namespacemonc__mod.html#a8e6be3c6cb64c627a1d191d04da0ce8d">More...</a><br /></td></tr>
<tr class="separator:a8e6be3c6cb64c627a1d191d04da0ce8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main core entry point to the rest of the model, this is called by the program main. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a9ab06337503a861d665ef76f6553e3cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab06337503a861d665ef76f6553e3cc">&#9670;&nbsp;</a></span>determine_if_io_server_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical function monc_mod::determine_if_io_server_enabled </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>options_database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether the IO server should be enabled or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options_database</td><td>The options database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether to enable the IO server or not </dd></dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00106">106</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">intent(inout)</span> :: options_database</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    determine_if_io_server_enabled=<a class="code" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18">options_get_logical</a>(options_database, <span class="stringliteral">&quot;enable_io_server&quot;</span>)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (determine_if_io_server_enabled) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      determine_if_io_server_enabled=<a class="code" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18">options_get_logical</a>(options_database, <span class="stringliteral">&quot;iobridge_enabled&quot;</span>)      </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keywordflow">    end if</span>    </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_cgraph.png" border="0" usemap="#anamespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_cgraph" id="anamespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_cgraph">
<area shape="rect" title="Determines whether the IO server should be enabled or not." alt="" coords="5,49,155,90"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18" title="Retrieves a logical value from the database that matches the provided key." alt="" coords="203,49,352,90"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="404,5,553,61"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="400,85,557,126"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="605,13,755,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_icgraph.png" border="0" usemap="#anamespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_icgraph" id="anamespacemonc__mod_a9ab06337503a861d665ef76f6553e3cc_icgraph">
<area shape="rect" title="Determines whether the IO server should be enabled or not." alt="" coords="428,46,577,87"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a9f8dfd7360fd507b14957cd500ce7dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8dfd7360fd507b14957cd500ce7dd6">&#9670;&nbsp;</a></span>display_registed_components()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::display_registed_components</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Displays the registered components and their version numbers. </p>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00300">300</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">type</span>(map_type) :: registered_components</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">type</span>(iterator_type) :: iterator</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">type</span>(mapentry_type):: map_entry</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    registered_components = get_all_registered_components()</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">log_info</a>, <span class="stringliteral">&quot;Registered components: &quot;</span>//conv_to_string(c_size(registered_components)))</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    iterator=c_get_iterator(registered_components)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">do</span> <span class="keywordflow">while</span> (c_has_next(iterator))</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      map_entry=c_next_mapentry(iterator)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">log_info</a>, trim(map_entry%key)//<span class="stringliteral">&quot; &quot;</span>//trim(conv_to_string(c_get_real(map_entry))))</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="keywordflow">    end do</span>    </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_cgraph.png" border="0" usemap="#anamespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_cgraph" id="anamespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_cgraph">
<area shape="rect" title="Displays the registered components and their version numbers." alt="" coords="5,35,191,76"/>
<area shape="rect" href="namespaceregistry__mod.html#a58788c9a6b30acd6db1253eee3319899" title="Returns a brief summary of all registered components." alt="" coords="239,5,403,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="249,71,392,98"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="451,64,617,105"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_icgraph.png" border="0" usemap="#anamespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_icgraph" id="anamespacemonc__mod_a9f8dfd7360fd507b14957cd500ce7dd6_icgraph">
<area shape="rect" title="Displays the registered components and their version numbers." alt="" coords="625,46,811,87"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,53,577,80"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a960c54442ba1c3ca7500451595b52984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a960c54442ba1c3ca7500451595b52984">&#9670;&nbsp;</a></span>display_timestep_information()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::display_timestep_information </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>timestep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, intent(in)&#160;</td>
          <td class="paramname"><em>start_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides timestepping information about the current step and performance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestep</td><td>The current timestep which has been completed </td></tr>
    <tr><td class="paramname">startTime</td><td>The F95 CPU time that the current timestep was started at </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00252">252</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: timestep</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">double precision</span>, <span class="keywordtype">intent(in)</span> :: start_time</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">double precision</span> :: end_time</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    end_time=mpi_wtime()</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#aca1c925af27b4d533d548bfe69a819f3">log_debug</a>, <span class="stringliteral">&quot;Timestep &quot;</span>//trim(conv_to_string(timestep))//<span class="stringliteral">&quot; completed in &quot;</span>//&amp;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;         trim(conv_to_string(int((end_time-start_time) * 1000)))//<span class="stringliteral">&quot;ms&quot;</span>)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a960c54442ba1c3ca7500451595b52984_cgraph.png" border="0" usemap="#anamespacemonc__mod_a960c54442ba1c3ca7500451595b52984_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a960c54442ba1c3ca7500451595b52984_cgraph" id="anamespacemonc__mod_a960c54442ba1c3ca7500451595b52984_cgraph">
<area shape="rect" title="Provides timestepping information about the current step and performance." alt="" coords="5,5,195,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="243,13,385,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="433,5,600,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a960c54442ba1c3ca7500451595b52984_icgraph.png" border="0" usemap="#anamespacemonc__mod_a960c54442ba1c3ca7500451595b52984_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a960c54442ba1c3ca7500451595b52984_icgraph" id="anamespacemonc__mod_a960c54442ba1c3ca7500451595b52984_icgraph">
<area shape="rect" title="Provides timestepping information about the current step and performance." alt="" coords="852,46,1041,87"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,46,804,87"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,53,577,80"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a2b3f09b5a2a45e4c853636e7d0cae14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b3f09b5a2a45e4c853636e7d0cae14e">&#9670;&nbsp;</a></span>fill_registry_with_components()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::fill_registry_with_components </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>options_database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1list__type.html">list_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>component_descriptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers each supplied component description. </p>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00264">264</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">intent(inout)</span> :: options_database</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordtype">type</span>(list_type), <span class="keywordtype">intent(inout)</span> :: component_descriptions</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">class</span>(*), <span class="keywordtype">pointer</span> :: raw_data</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">type</span>(iterator_type) :: iterator</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    iterator=c_get_iterator(component_descriptions)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">do</span> <span class="keywordflow">while</span> (c_has_next(iterator))</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      raw_data=&gt;c_next_generic(iterator)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">select type</span>(raw_data)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keywordflow">        type is</span> (component_descriptor_type)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          <span class="keyword">call </span>register_component(options_database, raw_data)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keywordflow">        class default</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;          <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>, <span class="stringliteral">&quot;Can not register component due to corrupted data&quot;</span>)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordflow">      end select</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keywordflow">    end do</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_cgraph.png" border="0" usemap="#anamespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_cgraph" id="anamespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_cgraph">
<area shape="rect" title="Registers each supplied component description." alt="" coords="5,67,159,108"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="843,13,985,39"/>
<area shape="rect" href="namespaceregistry__mod.html#a9560c58c94411b38b5908eb11a0ad0eb" title="Will register a component and install the nescesary callback hooks." alt="" coords="207,121,352,163"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="1041,5,1208,47"/>
<area shape="rect" href="namespaceregistry__mod.html#a227a7bff3d8c55d6eb0ca2618a8a3de0" title="Will install the callback hooks for each state." alt="" coords="411,155,538,196"/>
<area shape="rect" href="namespaceregistry__mod.html#aad841de55194d7b2dfebf58ecb4a4687" title="Loads the published fields information for an entire component into the registry&#39;s definition list." alt="" coords="411,89,538,131"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="597,38,787,65"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18" title="Retrieves a logical value from the database that matches the provided key." alt="" coords="400,279,549,320"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="839,253,989,295"/>
<area shape="rect" href="namespaceregistry__mod.html#a4d7dfdc95eb21cf68caaea16201d0351" title="Will install a specific callback hook into the specified map_type of existing hooks." alt="" coords="603,115,781,142"/>
<area shape="rect" href="namespaceregistry__mod.html#ada00dbccc3aea074507e4ef22962c58a" title="Given a group name this returns the id (i.e. order) of that group." alt="" coords="604,166,780,193"/>
<area shape="rect" href="namespaceregistry__mod.html#ac310def38e06d11d4f1fb792ad8923ba" title="Given a group name this returns the group descriptor corresponding to that or an error if none is fou..." alt="" coords="835,159,993,200"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="617,271,767,327"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="613,351,771,392"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_icgraph.png" border="0" usemap="#anamespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_icgraph" id="anamespacemonc__mod_a2b3f09b5a2a45e4c853636e7d0cae14e_icgraph">
<area shape="rect" title="Registers each supplied component description." alt="" coords="644,74,797,115"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="437,52,587,79"/>
<area shape="rect" href="namespacetest__monc__mod.html#aff7fde9554a678aa36495a32e189f4c9" title=" " alt="" coords="428,103,596,145"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,45,380,86"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
<area shape="rect" href="test__monc_8F90.html#a4a1c75fa47435dd0a9a6afd7068428a2" title=" " alt="" coords="241,111,363,137"/>
</map>
</div>

</div>
</div>
<a id="ab79859e859b30ab7dd6a1761270bcf9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79859e859b30ab7dd6a1761270bcf9f">&#9670;&nbsp;</a></span>get_io_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::get_io_configuration </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>options_database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=long_string_length), intent(out)&#160;</td>
          <td class="paramname"><em>ioserver_configuration_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>moncs_per_io_server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the IO server configuration and populates the required variables of the configuration file name and the placement period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options_database</td><td>The options database </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00402">402</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">intent(inout)</span> :: options_database</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordtype">character(len=LONG_STRING_LENGTH)</span>, <span class="keywordtype">intent(out)</span> :: ioserver_configuration_file</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(out)</span> :: moncs_per_io_server</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">integer</span> :: myrank, ierr</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    ioserver_configuration_file=<a class="code" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088">options_get_string</a>(options_database, <span class="stringliteral">&quot;ioserver_configuration_file&quot;</span>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    moncs_per_io_server=<a class="code" href="namespaceoptionsdatabase__mod.html#ae6f0a2a95fcacd3491b7b8fdb161e022">options_get_integer</a>(options_database, <span class="stringliteral">&quot;moncs_per_io_server&quot;</span>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (moncs_per_io_server == -1 .or. ioserver_configuration_file == <span class="stringliteral">&quot;&quot;</span>) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keyword">call </span>mpi_comm_rank(mpi_comm_world, myrank, ierr)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">if</span> (myrank == 0) <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;To run an IO server you must provide the placement period and configuration file&quot;</span>)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keyword">call </span>mpi_barrier(mpi_comm_world) <span class="comment">! All other processes barrier here to ensure 0 displays the message before quit</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      stop</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="keywordflow">    end if</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_cgraph.png" border="0" usemap="#anamespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_cgraph" alt=""/></div>
<map name="namespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_cgraph" id="anamespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_cgraph">
<area shape="rect" title="Reads the IO server configuration and populates the required variables of the configuration file name..." alt="" coords="5,78,212,105"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="263,17,406,43"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ae6f0a2a95fcacd3491b7b8fdb161e022" title="Retrieves an integer value from the database that matches the provided key." alt="" coords="260,136,409,177"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088" title="Retrieves a string value from the database that matches the provided key." alt="" coords="260,71,409,112"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="457,5,624,47"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="466,135,615,191"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="462,71,619,112"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="672,143,821,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_icgraph.png" border="0" usemap="#anamespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_icgraph" alt=""/></div>
<map name="namespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_icgraph" id="anamespacemonc__mod_ab79859e859b30ab7dd6a1761270bcf9f_icgraph">
<area shape="rect" title="Reads the IO server configuration and populates the required variables of the configuration file name..." alt="" coords="428,53,635,80"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a209c568c73aa1bcda43b6ec44df579a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209c568c73aa1bcda43b6ec44df579a1">&#9670;&nbsp;</a></span>get_mpi_threading_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer function monc_mod::get_mpi_threading_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrives the configured MPI threading mode, this is serialized by default but can be overridden via environment variable. </p>
<dl class="section return"><dt>Returns</dt><dd>The MONC MPI threading mode </dd></dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00422">422</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordtype">character(len=STRING_LENGTH)</span> :: thread_multiple_config_value</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">integer</span> :: status</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keyword">call </span>get_environment_variable(<span class="stringliteral">&quot;MONC_THREAD_MULTIPLE&quot;</span>, thread_multiple_config_value, status=status)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (status == 0 .and. conv_is_logical(trim(thread_multiple_config_value))) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">if</span> (conv_to_logical(trim(thread_multiple_config_value))) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        get_mpi_threading_mode=mpi_thread_multiple</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        get_mpi_threading_mode=mpi_thread_serialized</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      get_mpi_threading_mode=mpi_thread_serialized</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="keywordflow">    end if</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a209c568c73aa1bcda43b6ec44df579a1_icgraph.png" border="0" usemap="#anamespacemonc__mod_a209c568c73aa1bcda43b6ec44df579a1_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a209c568c73aa1bcda43b6ec44df579a1_icgraph" id="anamespacemonc__mod_a209c568c73aa1bcda43b6ec44df579a1_icgraph">
<area shape="rect" title="Retrives the configured MPI threading mode, this is serialized by default but can be overridden via e..." alt="" coords="428,53,665,80"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a07fc1b99da0c625847abacf25834e8c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07fc1b99da0c625847abacf25834e8c3">&#9670;&nbsp;</a></span>get_number_io_processes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer function monc_mod::get_number_io_processes </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>total_ranks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>moncs_per_io</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Based upon the total number of processes and the IO process id stride determines the number of processes that will be used for the IO server. The MONC processes is total processes - io processes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">total_ranks</td><td>Total number of processes in use </td></tr>
    <tr><td class="paramname">io_stride</td><td>The absolute process id stride for IO processes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of processes used for running the IO server </dd></dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00389">389</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: total_ranks, moncs_per_io</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordtype">integer</span> :: io_stride</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    io_stride=moncs_per_io</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    get_number_io_processes=total_ranks/io_stride</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (get_number_io_processes * io_stride .lt. total_ranks-1) get_number_io_processes=get_number_io_processes+1</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a07fc1b99da0c625847abacf25834e8c3_icgraph.png" border="0" usemap="#anamespacemonc__mod_a07fc1b99da0c625847abacf25834e8c3_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a07fc1b99da0c625847abacf25834e8c3_icgraph" id="anamespacemonc__mod_a07fc1b99da0c625847abacf25834e8c3_icgraph">
<area shape="rect" title="Based upon the total number of processes and the IO process id stride determines the number of proces..." alt="" coords="681,46,841,87"/>
<area shape="rect" href="namespacemonc__mod.html#a0faaccda0cabe18aa8467680f968b7bf" title="Splits the MPI_COMM_WORLD communicator into MONC and IO separate communicators. The size of each depe..." alt="" coords="428,46,633,87"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a7b31796521ca457b86e819854ec60a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b31796521ca457b86e819854ec60a5f">&#9670;&nbsp;</a></span>is_present_and_true()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical function monc_mod::is_present_and_true </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>options_database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether an option is present in the database and true. This combines the key check and getting the value. Just calling to get the value directly will error if it does not exist, we don't nescesarily want for checking optional command line flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options_database</td><td>The options database </td></tr>
    <tr><td class="paramname">key</td><td>The key to test for </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00288">288</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">intent(inout)</span> :: options_database</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">character(len=*)</span>, <span class="keywordtype">intent(in)</span> :: key</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (options_has_key(options_database, key)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      is_present_and_true=<a class="code" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18">options_get_logical</a>(options_database, key)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    is_present_and_true=.false.</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_cgraph.png" border="0" usemap="#anamespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_cgraph" id="anamespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_cgraph">
<area shape="rect" title="Determines whether an option is present in the database and true. This combines the key check and get..." alt="" coords="5,114,157,155"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18" title="Retrieves a logical value from the database that matches the provided key." alt="" coords="205,85,355,126"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="608,78,757,119"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="407,5,556,61"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="403,85,560,126"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_icgraph.png" border="0" usemap="#anamespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_icgraph" id="anamespacemonc__mod_a7b31796521ca457b86e819854ec60a5f_icgraph">
<area shape="rect" title="Determines whether an option is present in the database and true. This combines the key check and get..." alt="" coords="661,75,813,117"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="446,53,595,80"/>
<area shape="rect" href="namespacemonc__mod.html#a65fb2ffe75d12e876490d1ea3b9349b7" title="Performs options_database compatibility checks." alt="" coords="428,105,613,146"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="aca3f98dc591c90feec3df9ddb3dd2d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca3f98dc591c90feec3df9ddb3dd2d7f">&#9670;&nbsp;</a></span>load_model_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::load_model_configuration </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>options_database</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the configuration into the options database, either from a file or checkpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options_database</td><td>The options database </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00117">117</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: state</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">intent(inout)</span> :: options_database</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">call </span>load_command_line_into_options_database(options_database)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (options_has_key(options_database, <span class="stringliteral">&quot;config&quot;</span>)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      state%continuation_run=.false.</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keyword">call </span>parse_configuration_file(options_database, <a class="code" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088">options_get_string</a>(options_database, <span class="stringliteral">&quot;config&quot;</span>))</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (options_has_key(options_database, <span class="stringliteral">&quot;checkpoint&quot;</span>)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      state%continuation_run=.true.</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keyword">call </span>parse_configuration_checkpoint_netcdf(options_database, &amp;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;           <a class="code" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088">options_get_string</a>(options_database, <span class="stringliteral">&quot;checkpoint&quot;</span>), mpi_comm_world)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;You must either provide a configuration file or checkpoint to restart from&quot;</span>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keyword">call </span>mpi_barrier(mpi_comm_world) <span class="comment">! All other processes barrier here to ensure 0 displays the message before quit</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      stop</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">! Reload command line arguments to override any stuff in the configuration files</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">call </span>load_command_line_into_options_database(options_database)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_cgraph.png" border="0" usemap="#anamespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_cgraph" alt=""/></div>
<map name="namespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_cgraph" id="anamespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_cgraph">
<area shape="rect" title="Loads the configuration into the options database, either from a file or checkpoint." alt="" coords="5,540,164,581"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa5fe35c2fe3489193252d899aa7a8489" title="Loads in the command line arguments and stores them in the options database." alt="" coords="252,129,411,185"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="1476,665,1665,691"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088" title="Retrieves a string value from the database that matches the provided key." alt="" coords="1713,1199,1863,1240"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="2125,1015,2275,1056"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a234a39ac1b4d8067a1db4a6955848b83" title="Will parse the NetCDF checkpoint file and loads the configuration into the options database." alt="" coords="723,470,937,526"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#ab49bca15964dd1384a580b98995ec5df" title="Parses a specific configuration and adds the contents into the options database." alt="" coords="212,745,451,787"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a9e9c1f3c83145855b0a15212d0874dcc" title="This will add a specific option key value pair to the options hashmap_type." alt="" coords="512,129,661,185"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ada8d5c09f5aa39ab21f96c64f5eae4e7" title="Given a specific value this will determine the type of data." alt="" coords="499,64,675,105"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a26edb7498ed2705e4a68ee2a854cf358" title="A helper procedure to set a specific integer value." alt="" coords="741,201,919,243"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a3d2f101e8aaff465e9de8b5193017bca" title="A helper procedure to set a specific logical value." alt="" coords="741,5,919,47"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4ce99dd792cac1c2f3b0f7dafc066606" title="A helper procedure to set a specific real value." alt="" coords="749,71,911,112"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a55575038a83a349daac530eb250ed6ee" title="A helper procedure to set a specific string value." alt="" coords="744,136,916,177"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="1717,551,1859,578"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="1911,544,2077,585"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="1919,1189,2069,1245"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="1915,1124,2073,1165"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="1487,441,1654,483"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a0f644955464877087b5e779b48216188" title="Will read in and initialise the options database from the contents of the checkpoint file." alt="" coords="991,470,1162,526"/>
<area shape="rect" href="namespaceconversions__mod.html#ab7f79ee421227f8486ab403e9d5620e0" title="Converts from a single to double precision real. This applies some rounding to a certain number of de..." alt="" coords="1491,581,1650,623"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#ab05b5aee60f3cd114e9457a96bc4434b" title="Retrieves the number of option key&#45;value pairs that are present in the checkpoint file." alt="" coords="1239,369,1405,425"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a36adb04c970a14fbe9539686d85de1b3" title="Removes NetCDF C style null termination of string. This is placed right at the end,..." alt="" coords="1227,449,1417,505"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a288845e858e240a89e8e4b4f8efc0ca1" title="Will actually open a specific file and read it in line by line, parsing this and storing the configur..." alt="" coords="512,803,661,859"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a449fc0750a8dd50f9b31cceaea431715" title="Processes a line from the configuration file, breaks it up into its key and value and depending upon ..." alt="" coords="755,927,905,983"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#aee95cf17b2621ba20a9361eb6dd88bca" title="Processes a line to determine the mode (replace or additive) and where the split point is between the..." alt="" coords="985,862,1168,918"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a46304bee2a1a371a1c93ce093e4d3a8e" title="Handles setting a specific array element, when the key has something like k(n) &#45; n being the index to..." alt="" coords="1006,782,1147,838"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a786a3d32be3f039a0b38da934e8bbda7" title="Stores a specific configuration by determining the type of a value and calling on to the options data..." alt="" coords="1216,732,1428,773"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#aa4e44a767e5906298250fd646f474c04" title="Determines if a specific string contains multiple values such as str1, str2, str3." alt="" coords="989,993,1165,1049"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#aa93869bb58458b4fb3d36dc4dd5ad53c" title="Determines whether a configuration key represents a specific array element, i.e. is of the form k(n)" alt="" coords="1247,1138,1397,1194"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#af1233032f2ba331e7c1dca08be2f71cb" title="Parses the global configuration file if it is available and calls on to add all of this to the option..." alt="" coords="989,1203,1165,1259"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a7f49fea8a412b9610870ee8b7c7bca3d" title="Will process a configuration array of values such as v1,v2,v3,v4." alt="" coords="1002,1073,1151,1129"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a279d038c768b8301ffaa4267431c43d3" title="Given a configuration key of the form k(n), this returns the n." alt="" coords="1248,797,1396,853"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a9d3e0330b347c6c92bc24a459730bc1f" title="Gets the size of the array held in the options database corresponding to a specific key." alt="" coords="1491,1073,1651,1115"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ae6f0a2a95fcacd3491b7b8fdb161e022" title="Retrieves an integer value from the database that matches the provided key." alt="" coords="1713,1124,1863,1165"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#affe646317e972a687b815869a1a8f1d0" title="Removes quotations from a string if these are included, regardless of before it will return the conte..." alt="" coords="1497,725,1644,781"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a1ce927168f5315d78b28a8fb73cbe711" title="Removes a specific key from the options database, if it is an array then the entire array is removed." alt="" coords="1247,971,1397,1012"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_icgraph.png" border="0" usemap="#anamespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_icgraph" alt=""/></div>
<map name="namespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_icgraph" id="anamespacemonc__mod_aca3f98dc591c90feec3df9ddb3dd2d7f_icgraph">
<area shape="rect" title="Loads the configuration into the options database, either from a file or checkpoint." alt="" coords="471,135,629,177"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="245,70,401,111"/>
<area shape="rect" href="namespacetest__monc__mod.html#acece1f67f38b107c9e20b7b2d5dfaae4" title=" " alt="" coords="252,135,395,177"/>
<area shape="rect" href="namespacetest__science__constants__mod.html#a694616da54f6a8368798f51ee0605e22" title=" " alt="" coords="224,201,423,242"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
<area shape="rect" href="test__monc_8F90.html#a4a1c75fa47435dd0a9a6afd7068428a2" title=" " alt="" coords="29,143,152,169"/>
<area shape="rect" href="test__scienceconstants_8F90.html#a7bdaa3a8dce08782ec81f46f2df80b0b" title=" " alt="" coords="11,201,171,242"/>
</map>
</div>

</div>
</div>
<a id="aa2abab500db49cd9c95e41632531a40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2abab500db49cd9c95e41632531a40f">&#9670;&nbsp;</a></span>monc_core_bootstrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public monc_mod::monc_core_bootstrap </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1list__type.html">list_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>component_descriptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">procedure(<a class="el" href="interfacemonc__mod_1_1io__server__run__procedure.html">io_server_run_procedure</a>)&#160;</td>
          <td class="paramname"><em>io_server_run</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main core entry point to bootstrap running the model. </p>
<p>Reads in command line arguments, sets up the model state and registers components. Then runs through and calls the execution of each model stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">componentDescriptions</td><td>Descriptions of existing components which should be registered </td></tr>
    <tr><td class="paramname">io_server_run</td><td>Optional IO server entry procedure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00051">51</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">type</span>(list_type), <span class="keywordtype">intent(inout)</span> :: component_descriptions</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">procedure</span>(io_server_run_procedure) :: io_server_run</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">type</span>(model_state_type) :: state</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">integer</span> :: ierr, myrank, size, io_server_placement_period, provided_threading, selected_threading_mode</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">logical</span> :: i_am_monc_process</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">character(len=LONG_STRING_LENGTH)</span> :: io_server_config_file</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    selected_threading_mode=get_mpi_threading_mode()</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">call </span>mpi_init_thread(selected_threading_mode, provided_threading, ierr)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (selected_threading_mode .gt. provided_threading) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;You have selected to thread at level &#39;&quot;</span>//&amp;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;           trim(mpi_threading_level_to_string(selected_threading_mode))//&amp;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;           <span class="stringliteral">&quot;&#39; but the maximum level your MPI implementation can provide is &#39;&quot;</span>//&amp;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;           trim(mpi_threading_level_to_string(provided_threading))//<span class="stringliteral">&quot;&#39;&quot;</span>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keywordflow">    end if</span>    </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">call </span>load_model_configuration(state, state%options_database)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    state%io_server_enabled=determine_if_io_server_enabled(state%options_database)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">call </span>init_data_defn()</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">! Set up the logging with comm world PIDs initially for logging from the configuration parsing</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">call </span>mpi_comm_rank(mpi_comm_world, myrank, ierr)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">call </span>initialise_logging(myrank)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">call </span>log_set_logging_level(<a class="code" href="namespaceoptionsdatabase__mod.html#ae6f0a2a95fcacd3491b7b8fdb161e022">options_get_integer</a>(state%options_database, <span class="stringliteral">&quot;logging&quot;</span>))</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">! Check options_database for conflicts</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">!call perform_options_compatibility_checks(state%options_database)</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (state%io_server_enabled) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keyword">call </span>mpi_comm_size(mpi_comm_world, <span class="keyword">size</span>, ierr)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">if</span> (size==1) <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, &amp;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;           <span class="stringliteral">&quot;Run with 1 process, With IO server enabled then the minimum process size is 2 (1 for IO, 1 for MONC)&quot;</span>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keyword">call </span>get_io_configuration(state%options_database, io_server_config_file, io_server_placement_period)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keyword">call </span>split_communicator_into_monc_and_io(io_server_placement_period, state%parallel%monc_communicator, &amp;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;           state%parallel%io_communicator, i_am_monc_process, state%parallel%corresponding_io_server_process)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">if</span> (.not. i_am_monc_process) <span class="keywordflow">then</span>        </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keyword">call </span>io_server_run(state%options_database, state%parallel%io_communicator, provided_threading, &amp;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;             <span class="keyword">size</span>, state%continuation_run, io_server_config_file)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">else</span>  </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keyword">call </span>monc_run(component_descriptions, state)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      state%parallel%monc_communicator=mpi_comm_world</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keyword">call </span>monc_run(component_descriptions, state)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">call </span>mpi_finalize(ierr)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_cgraph.png" border="0" usemap="#anamespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_cgraph" alt=""/></div>
<map name="namespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_cgraph" id="anamespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_cgraph">
<area shape="rect" title="Main core entry point to bootstrap running the model." alt="" coords="5,810,161,851"/>
<area shape="rect" href="namespacemonc__mod.html#a9ab06337503a861d665ef76f6553e3cc" title="Determines whether the IO server should be enabled or not." alt="" coords="253,395,403,436"/>
<area shape="rect" href="namespacemonc__mod.html#ab79859e859b30ab7dd6a1761270bcf9f" title="Reads the IO server configuration and populates the required variables of the configuration file name..." alt="" coords="781,30,988,57"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="1281,974,1423,1001"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ae6f0a2a95fcacd3491b7b8fdb161e022" title="Retrieves an integer value from the database that matches the provided key." alt="" coords="1056,16,1205,58"/>
<area shape="rect" href="namespacemonc__mod.html#a209c568c73aa1bcda43b6ec44df579a1" title="Retrives the configured MPI threading mode, this is serialized by default but can be overridden via e..." alt="" coords="209,700,447,726"/>
<area shape="rect" href="namespacedatadefn__mod.html#a543d61cbc69daf6582d74243edf1e5c2" title="Will initialise the data definitions. This should be called as soon as MONC starts up." alt="" coords="265,751,391,792"/>
<area shape="rect" href="namespacelogging__mod.html#aad2930401b20710ee3d15366c98004b2" title="Initialises the logging. This is done to make it easier for master logging only, so that we don&#39;t hav..." alt="" coords="540,919,688,960"/>
<area shape="rect" href="namespacemonc__mod.html#aca3f98dc591c90feec3df9ddb3dd2d7f" title="Loads the configuration into the options database, either from a file or checkpoint." alt="" coords="249,535,407,576"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="1036,789,1225,816"/>
<area shape="rect" href="namespacelogging__mod.html#ab8af0887aad61dbe8e53f07e99312c5b" title="Sets the logging level, messages with less priority will be ignored." alt="" coords="257,970,399,1011"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="253,1044,403,1070"/>
<area shape="rect" href="namespacemonc__mod.html#a8e6be3c6cb64c627a1d191d04da0ce8d" title="Converts an MPI threading level to the string representation of it." alt="" coords="241,1095,415,1136"/>
<area shape="rect" href="namespacemonc__mod.html#a0faaccda0cabe18aa8467680f968b7bf" title="Splits the MPI_COMM_WORLD communicator into MONC and IO separate communicators. The size of each depe..." alt="" coords="511,1762,717,1803"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18" title="Retrieves a logical value from the database that matches the provided key." alt="" coords="1056,312,1205,354"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="1277,146,1427,202"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="1273,82,1431,123"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="1487,399,1637,440"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088" title="Retrieves a string value from the database that matches the provided key." alt="" coords="1056,82,1205,123"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="1479,967,1645,1008"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa5fe35c2fe3489193252d899aa7a8489" title="Loads in the command line arguments and stores them in the options database." alt="" coords="535,248,693,304"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a234a39ac1b4d8067a1db4a6955848b83" title="Will parse the NetCDF checkpoint file and loads the configuration into the options database." alt="" coords="507,528,721,584"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#ab49bca15964dd1384a580b98995ec5df" title="Parses a specific configuration and adds the contents into the options database." alt="" coords="495,746,733,787"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a9e9c1f3c83145855b0a15212d0874dcc" title="This will add a specific option key value pair to the options hashmap_type." alt="" coords="810,248,959,304"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ada8d5c09f5aa39ab21f96c64f5eae4e7" title="Given a specific value this will determine the type of data." alt="" coords="797,183,973,224"/>
<area shape="rect" href="namespacenetcdf__misc__mod.html#a159f13789af0cecc704b47fde431b241" title="Will check a NetCDF status and write to log_log error any decoded statuses. Can be used to decode whe..." alt="" coords="1047,567,1214,608"/>
<area shape="rect" href="namespaceconfiguration__checkpoint__netcdf__parser__mod.html#a0f644955464877087b5e779b48216188" title="Will read in and initialise the options database from the contents of the checkpoint file." alt="" coords="799,494,970,550"/>
<area shape="rect" href="namespaceconfiguration__file__parser__mod.html#a288845e858e240a89e8e4b4f8efc0ca1" title="Will actually open a specific file and read it in line by line, parsing this and storing the configur..." alt="" coords="810,742,959,798"/>
<area shape="rect" href="namespaceregistry__mod.html#a5a018e74648afffeff943029072c927e" title="Displays the registered callbacks of each stage in the order that they will be called." alt="" coords="537,1332,691,1388"/>
<area shape="rect" href="namespacemonc__mod.html#a9f8dfd7360fd507b14957cd500ce7dd6" title="Displays the registered components and their version numbers." alt="" coords="521,1507,707,1548"/>
<area shape="rect" href="namespacemonc__mod.html#a2b3f09b5a2a45e4c853636e7d0cae14e" title="Registers each supplied component description." alt="" coords="537,1036,691,1078"/>
<area shape="rect" href="namespaceregistry__mod.html#adc11d2059a8bd7ac5b68e93f9039a897" title="Initialises the registry with the provided configuration file." alt="" coords="555,1624,673,1666"/>
<area shape="rect" href="namespacescience__constants__mod.html#a9cdd1ca41df3c1799d50208911a40435" title="Initialises the scientific constants to read in any values that are overridden in the configuration." alt="" coords="533,149,695,205"/>
<area shape="rect" href="namespacemonc__mod.html#a7b31796521ca457b86e819854ec60a5f" title="Determines whether an option is present in the database and true. This combines the key check and get..." alt="" coords="809,430,961,471"/>
<area shape="rect" href="namespaceregistry__mod.html#a3e50dd26fe2607d04bced58f88c30ab0" title="Orders all callbacks in the prospective stages based upon the priorities of each descriptor." alt="" coords="549,1102,679,1143"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="525,1222,703,1263"/>
<area shape="rect" href="namespaceregistry__mod.html#a04b4b14e5f4fd9bc435b4d6ca5c4b934" title="Displays the registered callbacks of a specific stage in the order that they will be called." alt="" coords="813,1339,956,1380"/>
<area shape="rect" href="namespaceregistry__mod.html#ae5b11998b62f4ae0aba6f758429ac3da" title="Given the id of a group this will return the corresponding descriptor." alt="" coords="1051,1240,1210,1282"/>
<area shape="rect" href="namespaceregistry__mod.html#a58788c9a6b30acd6db1253eee3319899" title="Returns a brief summary of all registered components." alt="" coords="803,1507,967,1548"/>
<area shape="rect" href="namespaceregistry__mod.html#a9560c58c94411b38b5908eb11a0ad0eb" title="Will register a component and install the nescesary callback hooks." alt="" coords="812,626,957,667"/>
<area shape="rect" href="namespaceregistry__mod.html#a79e2df29fcc44901cb308a33b674590b" title=" " alt="" coords="811,1624,959,1666"/>
<area shape="rect" href="namespaceregistry__mod.html#abfb0b6c1152fe6095f7b73299fc26722" title=" " alt="" coords="818,1754,951,1810"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab054641ac0fa0287adb3c461987c4f0b" title="Retrieves a real value from the database that matches the provided key." alt="" coords="1056,147,1205,188"/>
<area shape="rect" href="namespaceregistry__mod.html#a47bca8e7f9fed9abe21ece874914498c" title=" " alt="" coords="791,1091,978,1132"/>
<area shape="rect" href="namespaceregistry__mod.html#a75be01a2d64e8dffd05601fb17114f52" title=" " alt="" coords="805,1026,964,1067"/>
<area shape="rect" href="namespacemonc__mod.html#a960c54442ba1c3ca7500451595b52984" title="Provides timestepping information about the current step and performance." alt="" coords="1036,1026,1225,1067"/>
<area shape="rect" href="namespaceregistry__mod.html#aeedbb809e039733f2d1158348aa24c9d" title="Calls all finalisation callbacks with the specified state." alt="" coords="809,1156,961,1198"/>
<area shape="rect" href="namespaceregistry__mod.html#ada79d71ffba2ebe9f6b337c6414567e5" title="Calls all initialisation callbacks with the specified state." alt="" coords="805,1222,964,1263"/>
<area shape="rect" href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9" title="Retrieves the current logging level." alt="" coords="813,1690,956,1731"/>
<area shape="rect" href="namespacemonc__mod.html#a07fc1b99da0c625847abacf25834e8c3" title="Based upon the total number of processes and the IO process id stride determines the number of proces..." alt="" coords="805,1834,965,1875"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_icgraph.png" border="0" usemap="#anamespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_icgraph" alt=""/></div>
<map name="namespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_icgraph" id="anamespacemonc__mod_aa2abab500db49cd9c95e41632531a40f_icgraph">
<area shape="rect" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="ad9e8a1e5e542e0cb9d187870fe57f0f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e8a1e5e542e0cb9d187870fe57f0f9">&#9670;&nbsp;</a></span>monc_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::monc_run </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1list__type.html">list_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>component_descriptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by MONC processes to run the MONC model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">componentDescriptions</td><td>Descriptions of existing components which should be registered </td></tr>
    <tr><td class="paramname">state</td><td>The current model state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00163">163</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">type</span>(list_type), <span class="keywordtype">intent(inout)</span> :: component_descriptions</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: state</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">integer</span> :: ierr, total_size</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordtype">double precision</span> :: end_time, timestepping_time, modeldump_time</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    state%model_start_wtime=mpi_wtime()</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">call </span>mpi_comm_rank(state%parallel%monc_communicator, state%parallel%my_rank, ierr)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">call </span>mpi_comm_size(state%parallel%monc_communicator, state%parallel%processes, ierr)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keyword">call </span>mpi_comm_size(mpi_comm_world, total_size, ierr)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">call </span>initialise_logging(state%parallel%my_rank)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">log_info</a>,<span class="stringliteral">&quot;MONC running with &quot;</span>//trim(conv_to_string(state%parallel%processes))//<span class="stringliteral">&quot; processes, &quot;</span>// &amp;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         trim(conv_to_string(total_size-state%parallel%processes))// <span class="stringliteral">&quot; IO server(s)&quot;</span>)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#ifdef DEBUG_MODE</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor"></span>    <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">log_warn</a>,<span class="stringliteral">&quot;MONC compiled with debug options, you probably want to recompile without for production runs&quot;</span>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#endif    </span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">call </span>init_registry(state%options_database) <span class="comment">! Initialise the registry</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">call </span>fill_registry_with_components(state%options_database, component_descriptions)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">call </span>initialise_science_constants(state)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">call </span>order_all_callbacks()</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">! If the option has been provided then display the registered component information</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (is_present_and_true(state%options_database, <span class="stringliteral">&quot;registered&quot;</span>) .and. state%parallel%my_rank==0) &amp;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;         <span class="keyword">call </span>display_registed_components()    </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (is_present_and_true(state%options_database, <span class="stringliteral">&quot;showcallbacks&quot;</span>) .and. state%parallel%my_rank==0) &amp;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;         <span class="keyword">call </span>display_callbacks_in_order_at_each_stage()</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (.not. is_present_and_true(state%options_database, <span class="stringliteral">&quot;norun&quot;</span>)) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">! Unless configured otherwise then run through the different stages of execution</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keyword">call </span>perform_model_steps(state, timestepping_time, modeldump_time)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keyword">call </span>mpi_barrier(state%parallel%monc_communicator, ierr)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    end_time=mpi_wtime()</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (state%parallel%my_rank==0) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">log_info</a>, <span class="stringliteral">&quot;Entire MONC run completed in &quot;</span>//trim(conv_to_string(int((end_time-state%model_start_wtime)*1000)))//&amp;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;           <span class="stringliteral">&quot;ms (timestepping=&quot;</span>//trim(conv_to_string(int(timestepping_time * 1000)))//<span class="stringliteral">&quot;ms, modeldump=&quot;</span>//&amp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;           trim(conv_to_string(int(modeldump_time * 1000)))//<span class="stringliteral">&quot;ms, misc=&quot;</span>//trim(conv_to_string((&amp;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;           int((end_time-state%model_start_wtime) * 1000)) - (int(timestepping_time * 1000) + int(modeldump_time * 1000))))//<span class="stringliteral">&quot;ms)&quot;</span>)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="keywordflow">    end if</span>    </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_cgraph.png" border="0" usemap="#anamespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_cgraph" alt=""/></div>
<map name="namespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_cgraph" id="anamespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_cgraph">
<area shape="rect" title="Called by MONC processes to run the MONC model." alt="" coords="5,513,155,539"/>
<area shape="rect" href="namespaceregistry__mod.html#a5a018e74648afffeff943029072c927e" title="Displays the registered callbacks of each stage in the order that they will be called." alt="" coords="218,715,373,771"/>
<area shape="rect" href="namespacemonc__mod.html#a9f8dfd7360fd507b14957cd500ce7dd6" title="Displays the registered components and their version numbers." alt="" coords="203,56,388,97"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="1143,173,1285,199"/>
<area shape="rect" href="namespacemonc__mod.html#a2b3f09b5a2a45e4c853636e7d0cae14e" title="Registers each supplied component description." alt="" coords="219,376,372,417"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="897,249,1087,275"/>
<area shape="rect" href="namespaceregistry__mod.html#adc11d2059a8bd7ac5b68e93f9039a897" title="Initialises the registry with the provided configuration file." alt="" coords="236,505,355,547"/>
<area shape="rect" href="namespacelogging__mod.html#aad2930401b20710ee3d15366c98004b2" title="Initialises the logging. This is done to make it easier for master logging only, so that we don&#39;t hav..." alt="" coords="221,571,369,612"/>
<area shape="rect" href="namespacescience__constants__mod.html#a9cdd1ca41df3c1799d50208911a40435" title="Initialises the scientific constants to read in any values that are overridden in the configuration." alt="" coords="214,635,377,691"/>
<area shape="rect" href="namespacemonc__mod.html#a7b31796521ca457b86e819854ec60a5f" title="Determines whether an option is present in the database and true. This combines the key check and get..." alt="" coords="449,441,601,483"/>
<area shape="rect" href="namespaceregistry__mod.html#a3e50dd26fe2607d04bced58f88c30ab0" title="Orders all callbacks in the prospective stages based upon the priorities of each descriptor." alt="" coords="230,820,361,861"/>
<area shape="rect" href="namespacemonc__mod.html#a744e82f06788a2c99c38569bc2d84cfd" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="206,1089,385,1131"/>
<area shape="rect" href="namespaceregistry__mod.html#a04b4b14e5f4fd9bc435b4d6ca5c4b934" title="Displays the registered callbacks of a specific stage in the order that they will be called." alt="" coords="454,703,597,744"/>
<area shape="rect" href="namespaceregistry__mod.html#ae5b11998b62f4ae0aba6f758429ac3da" title="Given the id of a group this will return the corresponding descriptor." alt="" coords="913,885,1071,927"/>
<area shape="rect" href="namespaceregistry__mod.html#a58788c9a6b30acd6db1253eee3319899" title="Returns a brief summary of all registered components." alt="" coords="443,5,607,47"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="1341,165,1508,207"/>
<area shape="rect" href="namespaceregistry__mod.html#a9560c58c94411b38b5908eb11a0ad0eb" title="Will register a component and install the nescesary callback hooks." alt="" coords="453,376,598,417"/>
<area shape="rect" href="namespaceregistry__mod.html#a227a7bff3d8c55d6eb0ca2618a8a3de0" title="Will install the callback hooks for each state." alt="" coords="693,391,819,432"/>
<area shape="rect" href="namespaceregistry__mod.html#aad841de55194d7b2dfebf58ecb4a4687" title="Loads the published fields information for an entire component into the registry&#39;s definition list." alt="" coords="693,325,819,367"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18" title="Retrieves a logical value from the database that matches the provided key." alt="" coords="681,559,831,600"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="1139,500,1289,541"/>
<area shape="rect" href="namespaceregistry__mod.html#a4d7dfdc95eb21cf68caaea16201d0351" title="Will install a specific callback hook into the specified map_type of existing hooks." alt="" coords="903,351,1081,378"/>
<area shape="rect" href="namespaceregistry__mod.html#ada00dbccc3aea074507e4ef22962c58a" title="Given a group name this returns the id (i.e. order) of that group." alt="" coords="904,402,1080,429"/>
<area shape="rect" href="namespaceregistry__mod.html#ac310def38e06d11d4f1fb792ad8923ba" title="Given a group name this returns the group descriptor corresponding to that or an error if none is fou..." alt="" coords="1135,395,1293,436"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="917,623,1067,679"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="913,559,1071,600"/>
<area shape="rect" href="namespaceregistry__mod.html#a79e2df29fcc44901cb308a33b674590b" title=" " alt="" coords="451,507,599,548"/>
<area shape="rect" href="namespaceregistry__mod.html#abfb0b6c1152fe6095f7b73299fc26722" title=" " alt="" coords="459,571,592,627"/>
<area shape="rect" href="namespaceregistry__mod.html#a2d49a443c8c46eae404207b6de7229e6" title=" " alt="" coords="693,624,819,665"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab054641ac0fa0287adb3c461987c4f0b" title="Retrieves a real value from the database that matches the provided key." alt="" coords="681,689,831,731"/>
<area shape="rect" href="namespaceregistry__mod.html#a47bca8e7f9fed9abe21ece874914498c" title=" " alt="" coords="663,885,849,927"/>
<area shape="rect" href="namespaceregistry__mod.html#a75be01a2d64e8dffd05601fb17114f52" title=" " alt="" coords="446,820,605,861"/>
<area shape="rect" href="namespaceregistry__mod.html#a0b161f63a4e05c32a32227f2f998b749" title=" " alt="" coords="671,820,841,861"/>
<area shape="rect" href="namespacemonc__mod.html#a960c54442ba1c3ca7500451595b52984" title="Provides timestepping information about the current step and performance." alt="" coords="897,980,1087,1021"/>
<area shape="rect" href="namespaceregistry__mod.html#aeedbb809e039733f2d1158348aa24c9d" title="Calls all finalisation callbacks with the specified state." alt="" coords="916,1291,1068,1332"/>
<area shape="rect" href="namespaceregistry__mod.html#ada79d71ffba2ebe9f6b337c6414567e5" title="Calls all initialisation callbacks with the specified state." alt="" coords="677,1076,835,1117"/>
<area shape="rect" href="namespacetimestepper__mod.html#a68b949cc5acc786b22e8152e793131ad" title="Finalises the timestepper by cleaning up allocated memory." alt="" coords="441,1119,609,1160"/>
<area shape="rect" href="namespacetimestepper__mod.html#a0458194fc6edb4839d4fe553940c1f9c" title="Initialises the timestepper by prefetching the groups in the order that they will be executed,..." alt="" coords="453,951,598,992"/>
<area shape="rect" href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9" title="Retrieves the current logging level." alt="" coords="454,1236,597,1277"/>
<area shape="rect" href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="436,1185,615,1211"/>
<area shape="rect" href="namespaceregistry__mod.html#a5ea79574949c7be412836f68adae30b1" title="Will execute the appropriate callbacks in a specific map_type given the current state." alt="" coords="1141,1221,1287,1263"/>
<area shape="rect" href="namespaceregistry__mod.html#acb7182cb8ae10878b9bd3eff0b9af306" title="Orders all the groups (in the order that they will be called in) and returns an array with these in o..." alt="" coords="671,951,841,992"/>
<area shape="rect" href="namespacetimestepper__mod.html#a7b0bedaf6c415c5db8306e12437e604a" title="Performs timestepping for a group of components on a per column basis. Each component in the group is..." alt="" coords="667,1156,845,1197"/>
<area shape="rect" href="namespacetimestepper__mod.html#aad0de7cb9cc57ef856b1ab0e808cd786" title="Executes a timestep for components in a group which are designed to be executed once per timestep." alt="" coords="667,1221,845,1263"/>
<area shape="rect" href="namespaceregistry__mod.html#aa12b1cbe0ce70757003f2f125fb63115" title="Calls all timestep callbacks with the specified state." alt="" coords="919,1221,1065,1263"/>
<area shape="rect" href="namespacetimestepper__mod.html#a1734b50a7d3106d7a493ce3d6dece28f" title="Updates the states situation flags for easy retrieval in the components that are run per timestep." alt="" coords="909,1156,1075,1197"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_icgraph.png" border="0" usemap="#anamespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_icgraph" alt=""/></div>
<map name="namespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_icgraph" id="anamespacemonc__mod_ad9e8a1e5e542e0cb9d187870fe57f0f9_icgraph">
<area shape="rect" title="Called by MONC processes to run the MONC model." alt="" coords="428,53,577,80"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a8e6be3c6cb64c627a1d191d04da0ce8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6be3c6cb64c627a1d191d04da0ce8d">&#9670;&nbsp;</a></span>mpi_threading_level_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=string_length) function monc_mod::mpi_threading_level_to_string </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lvl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts an MPI threading level to the string representation of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lvl</td><td>The integer MPI level </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the level </dd></dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00442">442</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: lvl</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (lvl == mpi_thread_single) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      mpi_threading_level_to_string=<span class="stringliteral">&quot;single&quot;</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lvl == mpi_thread_funneled) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      mpi_threading_level_to_string=<span class="stringliteral">&quot;funneled&quot;</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lvl == mpi_thread_serialized) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      mpi_threading_level_to_string=<span class="stringliteral">&quot;serialized&quot;</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lvl == mpi_thread_multiple) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      mpi_threading_level_to_string=<span class="stringliteral">&quot;multiple&quot;</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      mpi_threading_level_to_string=<span class="stringliteral">&quot;unknown&quot;</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keywordflow">    end if</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a8e6be3c6cb64c627a1d191d04da0ce8d_icgraph.png" border="0" usemap="#anamespacemonc__mod_a8e6be3c6cb64c627a1d191d04da0ce8d_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a8e6be3c6cb64c627a1d191d04da0ce8d_icgraph" id="anamespacemonc__mod_a8e6be3c6cb64c627a1d191d04da0ce8d_icgraph">
<area shape="rect" title="Converts an MPI threading level to the string representation of it." alt="" coords="428,46,601,87"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a744e82f06788a2c99c38569bc2d84cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744e82f06788a2c99c38569bc2d84cfd">&#9670;&nbsp;</a></span>perform_model_steps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::perform_model_steps </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structstate__mod_1_1model__state__type.html">model_state_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, intent(out)&#160;</td>
          <td class="paramname"><em>timestepping_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, intent(out)&#160;</td>
          <td class="paramname"><em>modeldump_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will run through the actual model stages and call the appropriate callbacks at each stage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The model state @timestepping_time The time spent in doing actual timestepping (computation) @modeldump_time The time spent in doing the model dump </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00213">213</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">type</span>(model_state_type), <span class="keywordtype">intent(inout)</span> :: state</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">double precision</span>, <span class="keywordtype">intent(out)</span> :: timestepping_time, modeldump_time</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">integer</span> :: logging_mod_level</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">double precision</span> :: start_time, end_time, start_iteration_time</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    timestepping_time=0.0_default_precision</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    modeldump_time=0.0_default_precision</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keyword">call </span>init_timestepper()</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    logging_mod_level = <a class="code" href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9">log_get_logging_level</a>()</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">call </span>execute_initialisation_callbacks(state)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    state%continue_timestep=.true.</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    start_time=mpi_wtime()</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">do</span> <span class="keywordflow">while</span> (state%continue_timestep)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">if</span> (state%update_dtm) state%dtm=state%dtm_new</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="comment">! The start of a timestep</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">if</span> (logging_mod_level .ge. <a class="code" href="namespacelogging__mod.html#aca1c925af27b4d533d548bfe69a819f3">log_debug</a>) start_iteration_time=mpi_wtime()</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keyword">call </span>timestep(state) <span class="comment">! Call out to the timestepper to do the actual timestepping per component</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span> (logging_mod_level .ge. <a class="code" href="namespacelogging__mod.html#aca1c925af27b4d533d548bfe69a819f3">log_debug</a> .and. state%parallel%my_rank==0) &amp;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;           <span class="keyword">call </span>display_timestep_information(state%timestep, start_iteration_time)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">if</span> (state%continue_timestep) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        state%timestep = state%timestep+1</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        state%time = state%time + state%dtm</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    end_time=mpi_wtime()</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    state%timestep_runtime=end_time-start_time</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    timestepping_time=timestepping_time+state%timestep_runtime</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">call </span>execute_finalisation_callbacks(state)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">call </span>finalise_timestepper()</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_cgraph.png" border="0" usemap="#anamespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_cgraph" id="anamespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_cgraph">
<area shape="rect" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="5,181,184,223"/>
<area shape="rect" href="namespacemonc__mod.html#a960c54442ba1c3ca7500451595b52984" title="Provides timestepping information about the current step and performance." alt="" coords="232,5,421,47"/>
<area shape="rect" href="namespaceregistry__mod.html#aeedbb809e039733f2d1158348aa24c9d" title="Calls all finalisation callbacks with the specified state." alt="" coords="483,64,635,105"/>
<area shape="rect" href="namespaceregistry__mod.html#ada79d71ffba2ebe9f6b337c6414567e5" title="Calls all initialisation callbacks with the specified state." alt="" coords="700,123,859,164"/>
<area shape="rect" href="namespacetimestepper__mod.html#a68b949cc5acc786b22e8152e793131ad" title="Finalises the timestepper by cleaning up allocated memory." alt="" coords="243,181,411,223"/>
<area shape="rect" href="namespacetimestepper__mod.html#a0458194fc6edb4839d4fe553940c1f9c" title="Initialises the timestepper by prefetching the groups in the order that they will be executed,..." alt="" coords="254,247,399,288"/>
<area shape="rect" href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9" title="Retrieves the current logging level." alt="" coords="255,312,398,353"/>
<area shape="rect" href="namespacetimestepper__mod.html#adc2aeb61f627e87b27fe35b8f1525f7e" title="Performs a timestep, which is comprised of executing each group of components in the order that they ..." alt="" coords="237,378,416,405"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="487,13,630,39"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="696,5,863,47"/>
<area shape="rect" href="namespaceregistry__mod.html#a5ea79574949c7be412836f68adae30b1" title="Will execute the appropriate callbacks in a specific map_type given the current state." alt="" coords="911,123,1057,164"/>
<area shape="rect" href="namespaceregistry__mod.html#acb7182cb8ae10878b9bd3eff0b9af306" title="Orders all the groups (in the order that they will be called in) and returns an array with these in o..." alt="" coords="473,243,644,284"/>
<area shape="rect" href="namespaceregistry__mod.html#ae5b11998b62f4ae0aba6f758429ac3da" title="Given the id of a group this will return the corresponding descriptor." alt="" coords="700,243,859,284"/>
<area shape="rect" href="namespacetimestepper__mod.html#a7b0bedaf6c415c5db8306e12437e604a" title="Performs timestepping for a group of components on a per column basis. Each component in the group is..." alt="" coords="469,373,648,415"/>
<area shape="rect" href="namespacetimestepper__mod.html#aad0de7cb9cc57ef856b1ab0e808cd786" title="Executes a timestep for components in a group which are designed to be executed once per timestep." alt="" coords="469,308,648,349"/>
<area shape="rect" href="namespaceregistry__mod.html#aa12b1cbe0ce70757003f2f125fb63115" title="Calls all timestep callbacks with the specified state." alt="" coords="706,308,853,349"/>
<area shape="rect" href="namespacetimestepper__mod.html#a1734b50a7d3106d7a493ce3d6dece28f" title="Updates the states situation flags for easy retrieval in the components that are run per timestep." alt="" coords="696,373,863,415"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_icgraph.png" border="0" usemap="#anamespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_icgraph" id="anamespacemonc__mod_a744e82f06788a2c99c38569bc2d84cfd_icgraph">
<area shape="rect" title="Will run through the actual model stages and call the appropriate callbacks at each stage." alt="" coords="625,46,804,87"/>
<area shape="rect" href="namespacemonc__mod.html#ad9e8a1e5e542e0cb9d187870fe57f0f9" title="Called by MONC processes to run the MONC model." alt="" coords="428,53,577,80"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
<a id="a65fb2ffe75d12e876490d1ea3b9349b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65fb2ffe75d12e876490d1ea3b9349b7">&#9670;&nbsp;</a></span>perform_options_compatibility_checks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::perform_options_compatibility_checks </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcollections__mod_1_1hashmap__type.html">hashmap_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>options_database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs options_database compatibility checks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options_database</td><td>The options database </td></tr>
  </table>
  </dd>
</dl>
<p>If conditional diagnostics are operating, both components should be enabled.</p>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00142">142</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">type</span>(hashmap_type), <span class="keywordtype">intent(inout)</span> :: options_database</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (is_present_and_true(options_database, <span class="stringliteral">&quot;conditional_diagnostics_column_enabled&quot;</span>) .NEQV. &amp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        is_present_and_true(options_database, <span class="stringliteral">&quot;conditional_diagnostics_whole_enabled&quot;</span>)  ) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">if</span> ( .not. is_present_and_true(options_database, <span class="stringliteral">&quot;conditional_diagnostics_column_enabled&quot;</span>)) &amp;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keyword">call </span><a class="code" href="interfaceoptionsdatabase__mod_1_1options__add.html">options_add</a>(options_database, <span class="stringliteral">&quot;conditional_diagnostics_column_enabled&quot;</span>, .true.)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">if</span> ( .not. is_present_and_true(options_database, <span class="stringliteral">&quot;conditional_diagnostics_whole_enabled&quot;</span>)) &amp;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keyword">call </span><a class="code" href="interfaceoptionsdatabase__mod_1_1options__add.html">options_add</a>(options_database, <span class="stringliteral">&quot;conditional_diagnostics_whole_enabled&quot;</span>, .true.)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">log_info</a>, <span class="stringliteral">&quot;Only one conditional_diagnostics component is enabled, but both are required to function.&quot;</span>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">log_master_log</a>(<a class="code" href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">log_info</a>, <span class="stringliteral">&quot;We assume you would like conditional_diagnostics enabled so have enabled the other, too.&quot;</span>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a65fb2ffe75d12e876490d1ea3b9349b7_cgraph.png" border="0" usemap="#anamespacemonc__mod_a65fb2ffe75d12e876490d1ea3b9349b7_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a65fb2ffe75d12e876490d1ea3b9349b7_cgraph" id="anamespacemonc__mod_a65fb2ffe75d12e876490d1ea3b9349b7_cgraph">
<area shape="rect" title="Performs options_database compatibility checks." alt="" coords="5,173,191,214"/>
<area shape="rect" href="namespacemonc__mod.html#a7b31796521ca457b86e819854ec60a5f" title="Determines whether an option is present in the database and true. This combines the key check and get..." alt="" coords="257,143,409,185"/>
<area shape="rect" href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20" title="Will log just from the master process." alt="" coords="239,209,428,236"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18" title="Retrieves a logical value from the database that matches the provided key." alt="" coords="476,85,625,126"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a4b187d310f786ed3c207a3060e09b156" title="Determines whether a specific key is in the database." alt="" coords="888,78,1037,119"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#a13bbeb6272c82308e3d4a42f7c36c862" title="Determines whether a specific options key exists in the database or not, if it doesn&#39;t then this resu..." alt="" coords="682,5,831,61"/>
<area shape="rect" href="namespaceoptionsdatabase__mod.html#ab4f16a670bed755586806647da3cfa8d" title="Gets a key corresponding to the correct options key and index combination." alt="" coords="678,85,835,126"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="479,209,622,236"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="673,202,840,243"/>
</map>
</div>

</div>
</div>
<a id="a0faaccda0cabe18aa8467680f968b7bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0faaccda0cabe18aa8467680f968b7bf">&#9670;&nbsp;</a></span>split_communicator_into_monc_and_io()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine monc_mod::split_communicator_into_monc_and_io </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>moncs_per_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>monc_communicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>io_communicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(out)&#160;</td>
          <td class="paramname"><em>am_i_monc_process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>corresponding_io_server_process</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Splits the MPI_COMM_WORLD communicator into MONC and IO separate communicators. The size of each depends on the stride supplied. This will deal with the case where you only have 1 extra process, for instance 3 MONCs to an IO server with 5 processes. 0=IO server, 1-3 are MONCS but by rights 4 would be an IO server. However we dont want to waste a process as an IO server which is not serving anything, hence in this edge case it will be used as a MONC instead. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_stride</td><td>The absolute process id stride for IO processes </td></tr>
    <tr><td class="paramname">monc_communicator</td><td>The communicator associated with MONC processes </td></tr>
    <tr><td class="paramname">io_communicator</td><td>The communicator associated with IO processes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monc_8F90_source.html#l00321">321</a> of file <a class="el" href="monc_8F90_source.html">monc.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(in)</span> :: moncs_per_io</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">intent(out)</span> :: monc_communicator, io_communicator, corresponding_io_server_process</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordtype">logical</span>, <span class="keywordtype">intent(out)</span> :: am_i_monc_process</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">integer</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: members_monc_group, members_io_group</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">integer</span> :: total_ranks, monc_group, io_group, io_processes, monc_processes, i, io_index, &amp;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         monc_index, my_rank, ierr, global_group, io_stride</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keyword">call </span>mpi_comm_size(mpi_comm_world, total_ranks, ierr)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">call </span>mpi_comm_rank(mpi_comm_world, my_rank, ierr)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    io_stride=moncs_per_io+1</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    io_processes=get_number_io_processes(total_ranks, io_stride)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    monc_processes=total_ranks-io_processes</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">allocate</span>(members_io_group(io_processes), members_monc_group(monc_processes))</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    io_index=1</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    monc_index=1</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    corresponding_io_server_process=-1</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    am_i_monc_process=.true.</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">do</span> i=0, total_ranks-1</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">if</span> (mod(i, io_stride) == 0 .and. i .lt. total_ranks) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span> (io_index .le. io_processes) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          members_io_group(io_index)=i</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          members_monc_group(monc_index)=i</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          monc_index=monc_index+1</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keywordflow">        end if</span>        </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        io_index=io_index+1</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (my_rank == i) am_i_monc_process=.false.</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">if</span> (my_rank .gt. i .and. my_rank .lt. i+io_stride) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          corresponding_io_server_process=i</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="keywordflow">        end if</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        members_monc_group(monc_index)=i</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        monc_index=monc_index+1</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="keywordflow">      end if</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (.not. am_i_monc_process .and. my_rank .eq. total_ranks-1) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      am_i_monc_process=.true.</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      corresponding_io_server_process=my_rank-io_stride</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="keywordflow">    end if</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (am_i_monc_process .and. corresponding_io_server_process .lt. 0) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">log_error</a>, <span class="stringliteral">&quot;MONC can not deduce its IO server rank, try with a different number of IO to MONC setting&quot;</span>)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="keywordflow">    end if</span>    </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9">log_get_logging_level</a>() .ge. <a class="code" href="namespacelogging__mod.html#aca1c925af27b4d533d548bfe69a819f3">log_debug</a>) <span class="keywordflow">then</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keyword">call </span><a class="code" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">log_log</a>(<a class="code" href="namespacelogging__mod.html#aca1c925af27b4d533d548bfe69a819f3">log_debug</a>, <span class="stringliteral">&quot;IO server assignment, rank=&quot;</span>//conv_to_string(my_rank)//<span class="stringliteral">&quot; IO server=&quot;</span>//&amp;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;           conv_to_string(corresponding_io_server_process)//<span class="stringliteral">&quot; am I a MONC=&quot;</span>//conv_to_string(am_i_monc_process))</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keywordflow">    end if</span>    </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">call </span>mpi_comm_group(mpi_comm_world, global_group, ierr)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keyword">call </span>mpi_group_incl(global_group, monc_processes, members_monc_group, monc_group, ierr)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">call </span>mpi_group_incl(global_group, io_processes, members_io_group, io_group, ierr)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">call </span>mpi_comm_create(mpi_comm_world, monc_group, monc_communicator, ierr)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">call </span>mpi_comm_create(mpi_comm_world, io_group, io_communicator, ierr)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keyword">deallocate</span>(members_io_group, members_monc_group)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_cgraph.png" border="0" usemap="#anamespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_cgraph" alt=""/></div>
<map name="namespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_cgraph" id="anamespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_cgraph">
<area shape="rect" title="Splits the MPI_COMM_WORLD communicator into MONC and IO separate communicators. The size of each depe..." alt="" coords="5,71,211,112"/>
<area shape="rect" href="namespacemonc__mod.html#a07fc1b99da0c625847abacf25834e8c3" title="Based upon the total number of processes and the IO process id stride determines the number of proces..." alt="" coords="259,5,419,47"/>
<area shape="rect" href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9" title="Retrieves the current logging level." alt="" coords="267,71,410,112"/>
<area shape="rect" href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45" title="Logs a message at the specified level. If the level is above the current level then the message is ig..." alt="" coords="267,137,410,163"/>
<area shape="rect" href="namespacelogging__mod.html#ac5c3277c18a4c378f0024c555cb5680a" title="Returns the string preamble that applies to the specific logging level." alt="" coords="467,129,633,171"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_icgraph.png" border="0" usemap="#anamespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_icgraph" alt=""/></div>
<map name="namespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_icgraph" id="anamespacemonc__mod_a0faaccda0cabe18aa8467680f968b7bf_icgraph">
<area shape="rect" title="Splits the MPI_COMM_WORLD communicator into MONC and IO separate communicators. The size of each depe..." alt="" coords="428,46,633,87"/>
<area shape="rect" href="namespacemonc__mod.html#aa2abab500db49cd9c95e41632531a40f" title="Main core entry point to bootstrap running the model." alt="" coords="224,46,380,87"/>
<area shape="rect" href="interfacemonc__mod_1_1io__server__run__procedure.html#a4a7a1c54866c50bf460f178dadc2b073" title=" " alt="" coords="5,5,176,61"/>
<area shape="rect" href="monc__driver_8F90.html#a38fac04eb034f0802b465898f3976e17" title="MONC program entry point which simply calls the main procedure in the MONC module." alt="" coords="44,85,137,112"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacelogging__mod_html_ad68309846cd8f9e77edaa6abd02f65a0"><div class="ttname"><a href="namespacelogging__mod.html#ad68309846cd8f9e77edaa6abd02f65a0">logging_mod::log_error</a></div><div class="ttdeci">integer, parameter, public log_error</div><div class="ttdoc">Only log ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00011">logging.F90:11</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_a10e28447dd10ef9f92d205bc98fb26d3"><div class="ttname"><a href="namespacelogging__mod.html#a10e28447dd10ef9f92d205bc98fb26d3">logging_mod::log_warn</a></div><div class="ttdeci">integer, parameter, public log_warn</div><div class="ttdoc">Log WARNING and ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00012">logging.F90:12</a></div></div>
<div class="ttc" id="anamespaceoptionsdatabase__mod_html_ae6f0a2a95fcacd3491b7b8fdb161e022"><div class="ttname"><a href="namespaceoptionsdatabase__mod.html#ae6f0a2a95fcacd3491b7b8fdb161e022">optionsdatabase_mod::options_get_integer</a></div><div class="ttdeci">integer function, public options_get_integer(options_database, key, index)</div><div class="ttdoc">Retrieves an integer value from the database that matches the provided key.</div><div class="ttdef"><b>Definition:</b> <a href="optionsdatabase_8F90_source.html#l00216">optionsdatabase.F90:217</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ac7d5c1fcb00d54277580c10556aa78a8"><div class="ttname"><a href="namespacelogging__mod.html#ac7d5c1fcb00d54277580c10556aa78a8">logging_mod::log_info</a></div><div class="ttdeci">integer, parameter, public log_info</div><div class="ttdoc">Log INFO, WARNING and ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00013">logging.F90:13</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ac4f13ac385499c85190cb184030e4f45"><div class="ttname"><a href="namespacelogging__mod.html#ac4f13ac385499c85190cb184030e4f45">logging_mod::log_log</a></div><div class="ttdeci">subroutine, public log_log(level, message, str)</div><div class="ttdoc">Logs a message at the specified level. If the level is above the current level then the message is ig...</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00074">logging.F90:75</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ae0d255e756059bc76b2f4291825e59c9"><div class="ttname"><a href="namespacelogging__mod.html#ae0d255e756059bc76b2f4291825e59c9">logging_mod::log_get_logging_level</a></div><div class="ttdeci">integer function, public log_get_logging_level()</div><div class="ttdoc">Retrieves the current logging level.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00121">logging.F90:122</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_aca1c925af27b4d533d548bfe69a819f3"><div class="ttname"><a href="namespacelogging__mod.html#aca1c925af27b4d533d548bfe69a819f3">logging_mod::log_debug</a></div><div class="ttdeci">integer, parameter, public log_debug</div><div class="ttdoc">Log DEBUG, INFO, WARNING and ERROR messages.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00014">logging.F90:14</a></div></div>
<div class="ttc" id="ainterfaceoptionsdatabase__mod_1_1options__add_html"><div class="ttname"><a href="interfaceoptionsdatabase__mod_1_1options__add.html">optionsdatabase_mod::options_add</a></div><div class="ttdoc">Generic add interface for adding different types of data to the databases.</div><div class="ttdef"><b>Definition:</b> <a href="optionsdatabase_8F90_source.html#l00028">optionsdatabase.F90:28</a></div></div>
<div class="ttc" id="anamespaceoptionsdatabase__mod_html_af2aeb42c9fdb961702216042b0330088"><div class="ttname"><a href="namespaceoptionsdatabase__mod.html#af2aeb42c9fdb961702216042b0330088">optionsdatabase_mod::options_get_string</a></div><div class="ttdeci">character(len=string_length) function, public options_get_string(options_database, key, index)</div><div class="ttdoc">Retrieves a string value from the database that matches the provided key.</div><div class="ttdef"><b>Definition:</b> <a href="optionsdatabase_8F90_source.html#l00279">optionsdatabase.F90:280</a></div></div>
<div class="ttc" id="anamespaceoptionsdatabase__mod_html_aa3f0213d8028773523e6194a0ddf8e18"><div class="ttname"><a href="namespaceoptionsdatabase__mod.html#aa3f0213d8028773523e6194a0ddf8e18">optionsdatabase_mod::options_get_logical</a></div><div class="ttdeci">logical function, public options_get_logical(options_database, key, index)</div><div class="ttdoc">Retrieves a logical value from the database that matches the provided key.</div><div class="ttdef"><b>Definition:</b> <a href="optionsdatabase_8F90_source.html#l00153">optionsdatabase.F90:154</a></div></div>
<div class="ttc" id="anamespacelogging__mod_html_ad95937a250467334622daeb5cff78c20"><div class="ttname"><a href="namespacelogging__mod.html#ad95937a250467334622daeb5cff78c20">logging_mod::log_master_log</a></div><div class="ttdeci">subroutine, public log_master_log(level, message)</div><div class="ttdoc">Will log just from the master process.</div><div class="ttdef"><b>Definition:</b> <a href="logging_8F90_source.html#l00046">logging.F90:47</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
