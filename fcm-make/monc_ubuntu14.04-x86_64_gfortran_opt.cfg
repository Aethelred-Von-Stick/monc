steps = extract preprocess build

extract.location{primary}[monc] = https://puma.nerc.ac.uk/svn/MONC_svn/MONC

extract.ns = monc 

extract.location[monc]  = trunk@674
extract.location{diff}[monc]  = branches/dev/bshipw/r726_use_fcm_make
extract.path-excl[monc] = / io/src/forthread
extract.path-incl[monc] = components core io misc testcases monc_driver.F90

preprocess.prop{file-ext.h} = .static
preprocess.prop{fpp.flags}  = -E -P -traditional
preprocess.prop{fpp.defs}   = U_ACTIVE V_ACTIVE W_ACTIVE 

preprocess.prop{class, no-dep.include} = argsts.h typsts.h s_scmop.h

$packages_path{?}    = /usr

$netcdf_path{?}     = $packages_path
$netcdf_inc_path{?} = $netcdf_path/include
$netcdf_lib_path{?} = $netcdf_path/lib

$fftw_path{?}       = $packages_path
$fftw_inc_path{?}   = $fftw_path/include
$fftw_lib_path{?}   = $fftw_path/lib

$hdf5_path{?}       = $packages_path/lib/x86_64-linux-gnu
$hdf5_lib_path{?}   = $hdf5_path/lib

build.target                       = monc_driver.exe
build.prop{class,no-dep.f.module}  = mpi netcdf
build.prop{class,no-dep.include}   = fftw3.f03
build.prop{class,fc.include-paths} = $netcdf_inc_path $fftw_inc_path
build.prop{class,fc}               = mpif90
build.prop{class,fc.flags}         = -O3
build.prop{class,fc.libs}          = netcdff netcdf hdf5 hdf5_hl z fftw3
build.prop{class,fc.lib-paths}     = $netcdf_lib_path $fftw_lib_path $hdf5_lib_path
