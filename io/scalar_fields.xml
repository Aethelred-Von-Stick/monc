<data-definition name="scalar_timeseries_fields" frequency="{sampling_frequency}">
  <field name="totqv_local" type="scalar" data_type="double" optional=true/>
  <field name="totql_local" type="scalar" data_type="double" optional=true/>
  <field name="qlmax_local" type="scalar" data_type="double" optional=true/>
  <field name="hqlmax_local" type="scalar" data_type="double" optional=true/>
  <field name="cltop_local" type="scalar" data_type="double" optional=true/>
  <field name="clbas_local" type="scalar" data_type="double" optional=true/>
  <field name="cltop_av_local" type="scalar" data_type="double" optional=true/>
  <field name="clbas_av_local" type="scalar" data_type="double" optional=true/>
  <field name="wmax_local" type="scalar" data_type="double" optional=true/>
  <field name="wmin_local" type="scalar" data_type="double" optional=true/>
</data-definition>

<data-handling>
  <diagnostic field="totqv"  type="scalar" data_type="double" units="kg/m^2">
    <communication name="reduction" operator="mean" result="totqv" field="totqv_local" root="auto"/>
  </diagnostic>
  <diagnostic field="totql"  type="scalar" data_type="double" units="kg/m^2">
    <communication name="reduction" operator="mean" result="totql" field="totql_local" root="auto"/>
  </diagnostic>
  <diagnostic field="qlmax"  type="scalar" data_type="double" units="kg/kg">
    <communication name="reduction" operator="max" result="qlmax" field="qlmax_local" root="auto"/>
  </diagnostic>
  <diagnostic field="hqlmax"  type="scalar" data_type="double" units="m">
    <communication name="reduction" operator="max" result="hqlmax" field="hqlmax_local" root="auto"/>
  </diagnostic>
  <diagnostic field="cltop_max"  type="scalar" data_type="double" units="m">
    <communication name="reduction" operator="max" result="cltop_max" field="cltop_local" root="auto"/>
  </diagnostic>
  <diagnostic field="cltop_mean"  type="scalar" data_type="double" units="m">
    <communication name="reduction" operator="mean" result="cltop_mean" field="cltop_av_local" root="auto"/>
  </diagnostic> 
  <diagnostic field="clbas_min"  type="scalar" data_type="double" units="m">
    <communication name="reduction" operator="min" result="clbas_min" field="clbas_local" root="auto"/>
  </diagnostic>
  <diagnostic field="clbas_mean"  type="scalar" data_type="double" units="m">
    <communication name="reduction" operator="mean" result="clbas_mean" field="clbas_av_local" root="auto"/>
  </diagnostic>
  <diagnostic field="wmax"  type="scalar" data_type="double" units="m/s">
    <communication name="reduction" operator="max" result="wmax" field="wmax_local" root="auto"/>
  </diagnostic>  
  <diagnostic field="wmin"  type="scalar" data_type="double" units="m/s">
    <communication name="reduction" operator="min" result="wmin" field="wmin_local" root="auto"/>
  </diagnostic>  
</data-handling>

<group name="scalar_timeseries">
  <member name="totqv"/>
  <member name="totql"/>
  <member name="qlmax"/>
  <member name="hqlmax"/>
  <member name="cltop_max"/>
  <member name="cltop_mean"/>
  <member name="clbas_min"/>
  <member name="clbas_mean"/>
  <member name="wmax"/>
  <member name="wmin"/>  
</group>
