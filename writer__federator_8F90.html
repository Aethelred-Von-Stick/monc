<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: io/src/writers/writer_federator.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc161955dc3a3d2485839eba21420d01.html">io</a></li><li class="navelem"><a class="el" href="dir_7913d61037d7093e2ee38526a6ff5887.html">src</a></li><li class="navelem"><a class="el" href="dir_f26732ba9ebc0c0ad3e2e2f1bd921724.html">writers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">writer_federator.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="writer__federator_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacewriter__federator__mod"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html">writer_federator_mod</a></td></tr>
<tr class="memdesc:namespacewriter__federator__mod"><td class="mdescLeft">&#160;</td><td class="mdescRight">This federates over the writing of diagnostic and prognostic data to the file system. It also manages the time manipulation of fields and groups. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a7b31bb8f9d0fb8c0768252e819b20985"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985">writer_federator_mod::initialise_writer_federator</a> (io_configuration, diagnostic_generation_frequency, continuation_run)</td></tr>
<tr class="memdesc:a7b31bb8f9d0fb8c0768252e819b20985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the write federator and configures it based on the user configuration. Also initialises the time manipulations.  <a href="namespacewriter__federator__mod.html#a7b31bb8f9d0fb8c0768252e819b20985">More...</a><br /></td></tr>
<tr class="separator:a7b31bb8f9d0fb8c0768252e819b20985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350033966b51a20a8a69d092a20ba774"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a350033966b51a20a8a69d092a20ba774">writer_federator_mod::finalise_writer_federator</a> ()</td></tr>
<tr class="memdesc:a350033966b51a20a8a69d092a20ba774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalises the write federator and the manipulations.  <a href="namespacewriter__federator__mod.html#a350033966b51a20a8a69d092a20ba774">More...</a><br /></td></tr>
<tr class="separator:a350033966b51a20a8a69d092a20ba774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c407f4433b36fa8e9fefda57fc32252"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a5c407f4433b36fa8e9fefda57fc32252">writer_federator_mod::inform_writer_federator_time_point</a> (io_configuration, source, data_id, data_dump)</td></tr>
<tr class="separator:a5c407f4433b36fa8e9fefda57fc32252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9121d09086fc4867afe57e0262f4a0"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#aff9121d09086fc4867afe57e0262f4a0">writer_federator_mod::inform_writer_federator_fields_present</a> (io_configuration, field_names, diag_field_names_and_roots)</td></tr>
<tr class="memdesc:aff9121d09086fc4867afe57e0262f4a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the writer federator that specific fields are present and should be reflected in the diagnostics output.  <a href="namespacewriter__federator__mod.html#aff9121d09086fc4867afe57e0262f4a0">More...</a><br /></td></tr>
<tr class="separator:aff9121d09086fc4867afe57e0262f4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10af49e026b9e11d113f702bb7f3113"><td class="memItemLeft" align="right" valign="top">logical function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#ab10af49e026b9e11d113f702bb7f3113">writer_federator_mod::is_field_used_by_writer_federator</a> (field_name, field_namespace)</td></tr>
<tr class="memdesc:ab10af49e026b9e11d113f702bb7f3113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a field is used by the writer federator or not.  <a href="namespacewriter__federator__mod.html#ab10af49e026b9e11d113f702bb7f3113">More...</a><br /></td></tr>
<tr class="separator:ab10af49e026b9e11d113f702bb7f3113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6aefade0899178fd2ba9c7c723af5d1"><td class="memItemLeft" align="right" valign="top">logical function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#ac6aefade0899178fd2ba9c7c723af5d1">writer_federator_mod::is_field_split_on_q</a> (field_name)</td></tr>
<tr class="memdesc:ac6aefade0899178fd2ba9c7c723af5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a field is split on Q or not.  <a href="namespacewriter__federator__mod.html#ac6aefade0899178fd2ba9c7c723af5d1">More...</a><br /></td></tr>
<tr class="separator:ac6aefade0899178fd2ba9c7c723af5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c151f31e747242202c9328f70207055"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a0c151f31e747242202c9328f70207055">writer_federator_mod::enable_specific_field_by_name</a> (field_name, diagnostics_mode, expected_here)</td></tr>
<tr class="memdesc:a0c151f31e747242202c9328f70207055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables a specific field by its name, this will locate all the fields with this name and enable them.  <a href="namespacewriter__federator__mod.html#a0c151f31e747242202c9328f70207055">More...</a><br /></td></tr>
<tr class="separator:a0c151f31e747242202c9328f70207055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468cf6121ebcfc23b1389528744d998c"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a468cf6121ebcfc23b1389528744d998c">writer_federator_mod::provide_q_field_names_to_writer_federator</a> (q_provided_field_names)</td></tr>
<tr class="memdesc:a468cf6121ebcfc23b1389528744d998c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides the Q field names to the write federator, this is required as on initialisation we don't know what these are and only when MONC register do they inform the IO server of the specifics.  <a href="namespacewriter__federator__mod.html#a468cf6121ebcfc23b1389528744d998c">More...</a><br /></td></tr>
<tr class="separator:a468cf6121ebcfc23b1389528744d998c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7149ce030c6fa05c7789b5e1e10be905"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a7149ce030c6fa05c7789b5e1e10be905">writer_federator_mod::provide_ordered_field_to_writer_federator</a> (io_configuration, field_name, field_namespace, field_values, timestep, time, source)</td></tr>
<tr class="separator:a7149ce030c6fa05c7789b5e1e10be905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b04288042049d5e432068c5923b026d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a9b04288042049d5e432068c5923b026d">writer_federator_mod::provide_ordered_field_to_writer_federator_real_values</a> (io_configuration, field_name, field_namespace, field_values, timestep, time, source)</td></tr>
<tr class="memdesc:a9b04288042049d5e432068c5923b026d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides fields (either diagnostics or prognostics) to the write federator which will action these as appropriate. This will split Q fields up if appropriate.  <a href="namespacewriter__federator__mod.html#a9b04288042049d5e432068c5923b026d">More...</a><br /></td></tr>
<tr class="separator:a9b04288042049d5e432068c5923b026d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f57429aef78615f84f59d4f2758747"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#ad5f57429aef78615f84f59d4f2758747">writer_federator_mod::get_size_of_collective_q</a> (io_configuration, field_name, source)</td></tr>
<tr class="memdesc:ad5f57429aef78615f84f59d4f2758747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data size for each Q entry of a collective Q field for the specific source MONC that has sent data.  <a href="namespacewriter__federator__mod.html#ad5f57429aef78615f84f59d4f2758747">More...</a><br /></td></tr>
<tr class="separator:ad5f57429aef78615f84f59d4f2758747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d77a55167cf260497e14e1f86a8e54b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a4d77a55167cf260497e14e1f86a8e54b">writer_federator_mod::provide_ordered_single_field_to_writer_federator</a> (io_configuration, field_name, field_namespace, field_values, timestep, time, source)</td></tr>
<tr class="memdesc:a4d77a55167cf260497e14e1f86a8e54b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a single ordered field, i.e. Q fields have been split by this point.  <a href="namespacewriter__federator__mod.html#a4d77a55167cf260497e14e1f86a8e54b">More...</a><br /></td></tr>
<tr class="separator:a4d77a55167cf260497e14e1f86a8e54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac4d8c09e5e6c8566f9548a71339e7b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#acac4d8c09e5e6c8566f9548a71339e7b">writer_federator_mod::write_collective_write_value</a> (result_values, writer_index, contents_index, source, lookup_key)</td></tr>
<tr class="memdesc:acac4d8c09e5e6c8566f9548a71339e7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the collective values, this is held differently to independent values which are written directly - instead here we need to store the values for each MONC hence a specific type is used instead.  <a href="namespacewriter__federator__mod.html#acac4d8c09e5e6c8566f9548a71339e7b">More...</a><br /></td></tr>
<tr class="separator:acac4d8c09e5e6c8566f9548a71339e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303133afee5100e6a9b0b19ead391dfa"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a303133afee5100e6a9b0b19ead391dfa">writer_federator_mod::determine_if_outstanding_field_can_be_written</a> (io_configuration, writer_entry, specific_field)</td></tr>
<tr class="memdesc:a303133afee5100e6a9b0b19ead391dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a specific field wil determine and handle any outstanding fields writes until an outstanding write can not be performed or the outstanding list is empty.  <a href="namespacewriter__federator__mod.html#a303133afee5100e6a9b0b19ead391dfa">More...</a><br /></td></tr>
<tr class="separator:a303133afee5100e6a9b0b19ead391dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3df9fda1cc189c370e8599947191e559"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a3df9fda1cc189c370e8599947191e559">writer_federator_mod::determine_if_field_can_be_written</a> (io_configuration, writer_entry, specific_field, timestep, previous_write_timestep, write_time, previous_write_time, field_written)</td></tr>
<tr class="memdesc:a3df9fda1cc189c370e8599947191e559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a file can be written to its overarching write representation. If so then a write is issued, otherwise an outstanding write point is registered which will be checked frequency to do a write later on.  <a href="namespacewriter__federator__mod.html#a3df9fda1cc189c370e8599947191e559">More...</a><br /></td></tr>
<tr class="separator:a3df9fda1cc189c370e8599947191e559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af403ddb2a3d977bfc3f81a6f834488"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a1af403ddb2a3d977bfc3f81a6f834488">writer_federator_mod::check_writer_for_trigger</a> (io_configuration, source, data_id, data_dump)</td></tr>
<tr class="memdesc:a1af403ddb2a3d977bfc3f81a6f834488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks all writer entries for any trigger fires and issues the underlying file storage.  <a href="namespacewriter__federator__mod.html#a1af403ddb2a3d977bfc3f81a6f834488">More...</a><br /></td></tr>
<tr class="separator:a1af403ddb2a3d977bfc3f81a6f834488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977faf0b0a12f54b8002555e6f791856"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a977faf0b0a12f54b8002555e6f791856">writer_federator_mod::check_writer_trigger</a> (io_configuration, writer_entry_index, timestep, time, terminated)</td></tr>
<tr class="memdesc:a977faf0b0a12f54b8002555e6f791856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks a writer trigger and issues a file creation along with field write if the conditions (time or timestep) are met. This will either create and write to the file or store a pending state if one is already open (required due to NetCDF/HDF5 limitations with thread safety and parallel access.)  <a href="namespacewriter__federator__mod.html#a977faf0b0a12f54b8002555e6f791856">More...</a><br /></td></tr>
<tr class="separator:a977faf0b0a12f54b8002555e6f791856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9271347f390a41c78caacc174002d0b4"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a9271347f390a41c78caacc174002d0b4">writer_federator_mod::issue_actual_write</a> (io_configuration, writer_entry, timestep, time, terminated_write)</td></tr>
<tr class="memdesc:a9271347f390a41c78caacc174002d0b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issues the actual file creation, write of available fields and closure if all completed.  <a href="namespacewriter__federator__mod.html#a9271347f390a41c78caacc174002d0b4">More...</a><br /></td></tr>
<tr class="separator:a9271347f390a41c78caacc174002d0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6600fa0faed86a8d9f6d22b2903da62"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#ab6600fa0faed86a8d9f6d22b2903da62">writer_federator_mod::clean_time_points</a> ()</td></tr>
<tr class="memdesc:ab6600fa0faed86a8d9f6d22b2903da62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans out old timepoints which are no longer going to be of any relavence to the file writing. This ensures that we don't have lots of stale points that need to be processed and searched beyond but are themselves pointless.  <a href="namespacewriter__federator__mod.html#ab6600fa0faed86a8d9f6d22b2903da62">More...</a><br /></td></tr>
<tr class="separator:ab6600fa0faed86a8d9f6d22b2903da62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af717d0c9b90eb4744fe7bec75086e25d"><td class="memItemLeft" align="right" valign="top">type(map_type) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#af717d0c9b90eb4744fe7bec75086e25d">writer_federator_mod::extract_applicable_time_points</a> (start_time, end_time)</td></tr>
<tr class="memdesc:af717d0c9b90eb4744fe7bec75086e25d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the applicable time points from the overall map that lie within a specific range.  <a href="namespacewriter__federator__mod.html#af717d0c9b90eb4744fe7bec75086e25d">More...</a><br /></td></tr>
<tr class="separator:af717d0c9b90eb4744fe7bec75086e25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ee4eae0932fe781cc87322c7da4204"><td class="memItemLeft" align="right" valign="top">type(map_type) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#ac4ee4eae0932fe781cc87322c7da4204">writer_federator_mod::sort_applicable_time_points</a> (unsorted_timepoints)</td></tr>
<tr class="memdesc:ac4ee4eae0932fe781cc87322c7da4204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorts the time points based upon their timestep, smallest to largest. Note that this is a bubble sort and as such inefficient, so would be good to change to something else but works OK for now.  <a href="namespacewriter__federator__mod.html#ac4ee4eae0932fe781cc87322c7da4204">More...</a><br /></td></tr>
<tr class="separator:ac4ee4eae0932fe781cc87322c7da4204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37589f9aced0f51f811ed15c462d33cb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a37589f9aced0f51f811ed15c462d33cb">writer_federator_mod::close_diagnostics_file</a> (io_configuration, writer_entry, timestep, time)</td></tr>
<tr class="memdesc:a37589f9aced0f51f811ed15c462d33cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the diagnostics file, this is done via a global callback to issue the closes synchronously (collective operation)  <a href="namespacewriter__federator__mod.html#a37589f9aced0f51f811ed15c462d33cb">More...</a><br /></td></tr>
<tr class="separator:a37589f9aced0f51f811ed15c462d33cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec7f85e388c7212a8aa98acefc2b9d0"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a9ec7f85e388c7212a8aa98acefc2b9d0">writer_federator_mod::handle_close_diagnostics_globalcallback</a> (io_configuration, values, field_name, timestep)</td></tr>
<tr class="memdesc:a9ec7f85e388c7212a8aa98acefc2b9d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call back for the inter IO reduction which actually does the NetCDF file closing which is a collective (synchronous) operation. Calls out to the NetCDF code to do the call and then checks the list of pending file writes to process any others that are waiting in the queue.  <a href="namespacewriter__federator__mod.html#a9ec7f85e388c7212a8aa98acefc2b9d0">More...</a><br /></td></tr>
<tr class="separator:a9ec7f85e388c7212a8aa98acefc2b9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6cf3c74ee165c8ece3735913e75e0a"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a4e6cf3c74ee165c8ece3735913e75e0a">writer_federator_mod::check_for_and_issue_chain_write</a> (io_configuration, writer_entry)</td></tr>
<tr class="memdesc:a4e6cf3c74ee165c8ece3735913e75e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will check whether there are any pending writes and if so will issue a chain write for this.  <a href="namespacewriter__federator__mod.html#a4e6cf3c74ee165c8ece3735913e75e0a">More...</a><br /></td></tr>
<tr class="separator:a4e6cf3c74ee165c8ece3735913e75e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f423ed92a9bd09acce659a23e3defa"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a27f423ed92a9bd09acce659a23e3defa">writer_federator_mod::register_pending_file_write</a> (writer_entry_index, timestep, time, terminated_write)</td></tr>
<tr class="memdesc:a27f423ed92a9bd09acce659a23e3defa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a pending file write which will be actioned later on.  <a href="namespacewriter__federator__mod.html#a27f423ed92a9bd09acce659a23e3defa">More...</a><br /></td></tr>
<tr class="separator:a27f423ed92a9bd09acce659a23e3defa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9379ee9a358faa87a63d2f2459f202b9"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a9379ee9a358faa87a63d2f2459f202b9">writer_federator_mod::get_next_applicable_writer_entry</a> (field_name, field_namespace, writer_index_point, contents_index_point)</td></tr>
<tr class="memdesc:a9379ee9a358faa87a63d2f2459f202b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the index of the next writer which uses a specific field. If none is found then returns false, otherwise true.  <a href="namespacewriter__federator__mod.html#a9379ee9a358faa87a63d2f2459f202b9">More...</a><br /></td></tr>
<tr class="separator:a9379ee9a358faa87a63d2f2459f202b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863bc95a6373f8197cc183d39f1d6d12"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a863bc95a6373f8197cc183d39f1d6d12">writer_federator_mod::get_total_number_writer_fields</a> (io_configuration, writer_entry_index)</td></tr>
<tr class="memdesc:a863bc95a6373f8197cc183d39f1d6d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the total number of fields that make up a writer entry, this is all the fields of the groups that make up this writer and individual fields specified too.  <a href="namespacewriter__federator__mod.html#a863bc95a6373f8197cc183d39f1d6d12">More...</a><br /></td></tr>
<tr class="separator:a863bc95a6373f8197cc183d39f1d6d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34196607f504b72b30c0d82215402d96"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a34196607f504b72b30c0d82215402d96">writer_federator_mod::get_group_number_of_fields</a> (io_configuration, group_members, num_q_fields, namespace)</td></tr>
<tr class="memdesc:a34196607f504b72b30c0d82215402d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of fields within a group of fields.  <a href="namespacewriter__federator__mod.html#a34196607f504b72b30c0d82215402d96">More...</a><br /></td></tr>
<tr class="separator:a34196607f504b72b30c0d82215402d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96287a6f24e9217bb315d12e326cdfd9"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a96287a6f24e9217bb315d12e326cdfd9">writer_federator_mod::get_field_number_of_fields</a> (io_configuration, field_name, field_namespace, num_q_fields)</td></tr>
<tr class="memdesc:a96287a6f24e9217bb315d12e326cdfd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of fields that make up this field, if it is a Q field then it will be split into many subfields hence it is not a simple 1-1 mapping.  <a href="namespacewriter__federator__mod.html#a96287a6f24e9217bb315d12e326cdfd9">More...</a><br /></td></tr>
<tr class="separator:a96287a6f24e9217bb315d12e326cdfd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4a1b4f58fe72715645615b4f1ee9d8"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#afa4a1b4f58fe72715645615b4f1ee9d8">writer_federator_mod::add_group_of_fields_to_writer_entry</a> (io_configuration, writer_entry_index, facet_index, current_field_index, writer_field_names, duplicate_field_names, diagnostic_generation_frequency)</td></tr>
<tr class="memdesc:afa4a1b4f58fe72715645615b4f1ee9d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a group of fields to a writer entry, groups are expanded out into individual fields, each inherit the properties of the group.  <a href="namespacewriter__federator__mod.html#afa4a1b4f58fe72715645615b4f1ee9d8">More...</a><br /></td></tr>
<tr class="separator:afa4a1b4f58fe72715645615b4f1ee9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90abda607746ac48c9b1df555c59895c"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a90abda607746ac48c9b1df555c59895c">writer_federator_mod::add_field_to_writer_entry</a> (io_configuration, writer_entry_index, io_config_facet_index, my_facet_index, field_name, field_namespace, writer_field_names, duplicate_field_names, diagnostic_generation_frequency)</td></tr>
<tr class="memdesc:a90abda607746ac48c9b1df555c59895c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a field to the writer entry, this will split the Q fields. However at initialisation we don't know what the Q fields are called, hence place a marker which will be replaced later on.  <a href="namespacewriter__federator__mod.html#a90abda607746ac48c9b1df555c59895c">More...</a><br /></td></tr>
<tr class="separator:a90abda607746ac48c9b1df555c59895c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6664cafdcce9b4b3d0a5815c65af9ac"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#ae6664cafdcce9b4b3d0a5815c65af9ac">writer_federator_mod::add_specific_field_to_writer_entry</a> (io_configuration, writer_entry_index, io_config_facet_index, my_facet_index, field_name, field_namespace, writer_field_names, duplicate_field_names, timestep_frequency, diagnostic_field_configuration, prognostic_field_configuration)</td></tr>
<tr class="memdesc:ae6664cafdcce9b4b3d0a5815c65af9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a specific field and its information to a writer entry.  <a href="namespacewriter__federator__mod.html#ae6664cafdcce9b4b3d0a5815c65af9ac">More...</a><br /></td></tr>
<tr class="separator:ae6664cafdcce9b4b3d0a5815c65af9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989ba90529039516692707b2d6611683"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a989ba90529039516692707b2d6611683">writer_federator_mod::handle_duplicate_field_names</a> (writer_entry, duplicate_field_names)</td></tr>
<tr class="memdesc:a989ba90529039516692707b2d6611683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks duplicate field names in a writer entry as duplicates so that the NetCDF layer can then deal with this by issuing unique names.  <a href="namespacewriter__federator__mod.html#a989ba90529039516692707b2d6611683">More...</a><br /></td></tr>
<tr class="separator:a989ba90529039516692707b2d6611683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b6a2402ed4c492470ff392caa11714"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a89b6a2402ed4c492470ff392caa11714">writer_federator_mod::get_index_of_group</a> (io_configuration, group_name)</td></tr>
<tr class="memdesc:a89b6a2402ed4c492470ff392caa11714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the IO server configuration for a group with a specific name and returns the index to that group or 0 if no corresponding group is found.  <a href="namespacewriter__federator__mod.html#a89b6a2402ed4c492470ff392caa11714">More...</a><br /></td></tr>
<tr class="separator:a89b6a2402ed4c492470ff392caa11714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472ec41d11538e384f05791c3d6037d7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a472ec41d11538e384f05791c3d6037d7">writer_federator_mod::determine_collective_type_and_optimise_if_possible</a> (io_configuration, field_to_write_information)</td></tr>
<tr class="memdesc:a472ec41d11538e384f05791c3d6037d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether it can optimise a specific collective field. If the field fits into certain limited parameters then it will optimise it. These parameters are very common, hence most fields can be optimised. Basically, it is looking to contiguous blocks of data from different MONCs so that the number of writes to the NetCDF file is limited.  <a href="namespacewriter__federator__mod.html#a472ec41d11538e384f05791c3d6037d7">More...</a><br /></td></tr>
<tr class="separator:a472ec41d11538e384f05791c3d6037d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e836c0ac87a9e09b4c622aaded6ad6"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a08e836c0ac87a9e09b4c622aaded6ad6">writer_federator_mod::initialise_contiguous_data_regions</a> (io_configuration, field_to_write_information)</td></tr>
<tr class="memdesc:a08e836c0ac87a9e09b4c622aaded6ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will initialise the collective data regions that form contiguous blocks within the data. This is quite an expensive operation so only done once for each field, but has the potential for very significant performance advantages for the fields that match it.  <a href="namespacewriter__federator__mod.html#a08e836c0ac87a9e09b4c622aaded6ad6">More...</a><br /></td></tr>
<tr class="separator:a08e836c0ac87a9e09b4c622aaded6ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f81ee04b25b784bf928c8bc96d32016"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a9f81ee04b25b784bf928c8bc96d32016">writer_federator_mod::get_common_starts</a> (dim, val, vals, common_starters, num_common)</td></tr>
<tr class="memdesc:a9f81ee04b25b784bf928c8bc96d32016"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of common starting points that match a specific input value.  <a href="namespacewriter__federator__mod.html#a9f81ee04b25b784bf928c8bc96d32016">More...</a><br /></td></tr>
<tr class="separator:a9f81ee04b25b784bf928c8bc96d32016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d56184ae0676c708c4377f01f71310"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a20d56184ae0676c708c4377f01f71310">writer_federator_mod::get_dimension_identifier</a> (dim_name, is_auto_dimension)</td></tr>
<tr class="memdesc:a20d56184ae0676c708c4377f01f71310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates a dimension name to its numeric corresponding identifier.  <a href="namespacewriter__federator__mod.html#a20d56184ae0676c708c4377f01f71310">More...</a><br /></td></tr>
<tr class="separator:a20d56184ae0676c708c4377f01f71310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa54db4af17f9531d20049c38470c41bb"><td class="memItemLeft" align="right" valign="top">type(writer_type), dimension(:), allocatable, volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#aa54db4af17f9531d20049c38470c41bb">writer_federator_mod::writer_entries</a></td></tr>
<tr class="separator:aa54db4af17f9531d20049c38470c41bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495ab94021997bb4b9c1f5a982d0b7ca"><td class="memItemLeft" align="right" valign="top">type(hashset_type), volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a495ab94021997bb4b9c1f5a982d0b7ca">writer_federator_mod::used_field_names</a></td></tr>
<tr class="separator:a495ab94021997bb4b9c1f5a982d0b7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cc7dea9613ccebe26d24c7166c3e6f"><td class="memItemLeft" align="right" valign="top">type(hashset_type), volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a69cc7dea9613ccebe26d24c7166c3e6f">writer_federator_mod::q_field_names</a></td></tr>
<tr class="separator:a69cc7dea9613ccebe26d24c7166c3e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9b7c46ac699da24da779b9c6c009cd"><td class="memItemLeft" align="right" valign="top">type(hashmap_type), volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#adc9b7c46ac699da24da779b9c6c009cd">writer_federator_mod::time_points</a></td></tr>
<tr class="separator:adc9b7c46ac699da24da779b9c6c009cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f8619eadb826621b1957fd4daa6b72"><td class="memItemLeft" align="right" valign="top">type(hashmap_type), volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a52f8619eadb826621b1957fd4daa6b72">writer_federator_mod::q_field_splits</a></td></tr>
<tr class="separator:a52f8619eadb826621b1957fd4daa6b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3545de2843efed3a4278718c892cbc"><td class="memItemLeft" align="right" valign="top">type(hashmap_type), volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#aeb3545de2843efed3a4278718c892cbc">writer_federator_mod::collective_q_field_dims</a></td></tr>
<tr class="separator:aeb3545de2843efed3a4278718c892cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ea92c688fb39538620e6ea06fa334f"><td class="memItemLeft" align="right" valign="top">integer, volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a62ea92c688fb39538620e6ea06fa334f">writer_federator_mod::time_points_rwlock</a></td></tr>
<tr class="separator:a62ea92c688fb39538620e6ea06fa334f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81785f80135e4042d82537c054b7681f"><td class="memItemLeft" align="right" valign="top">integer, volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a81785f80135e4042d82537c054b7681f">writer_federator_mod::collective_contiguous_initialisation_mutex</a></td></tr>
<tr class="separator:a81785f80135e4042d82537c054b7681f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a28ace2d76dc271725853294d7958c2"><td class="memItemLeft" align="right" valign="top">integer, volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#a8a28ace2d76dc271725853294d7958c2">writer_federator_mod::currently_writing_mutex</a></td></tr>
<tr class="separator:a8a28ace2d76dc271725853294d7958c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb80206d17d695e7d9faaaa051f1ba6e"><td class="memItemLeft" align="right" valign="top">logical, volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewriter__federator__mod.html#aeb80206d17d695e7d9faaaa051f1ba6e">writer_federator_mod::currently_writing</a></td></tr>
<tr class="separator:aeb80206d17d695e7d9faaaa051f1ba6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
