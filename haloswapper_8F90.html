<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MONC: components/haloswapper/src/haloswapper.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MONC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_4cb4f08b979780d2cee73f45b131cdb4.html">haloswapper</a></li><li class="navelem"><a class="el" href="dir_75d6db0e68071841ac7818623a14fdc8.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">haloswapper.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="haloswapper_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacehaloswapper__mod"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html">haloswapper_mod</a></td></tr>
<tr class="memdesc:namespacehaloswapper__mod"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs halo swapping. In the parallel case this is between neighbouring processes and in the serial case it still needs to wrap the halos around for the boundary conditions. This module determines the policy of halo swapping (i.e. the fields to communicate) and the halo communication module is used to provide the actual mechanism. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a72490f0cc37d570074c2306898e71002"><td class="memItemLeft" align="right" valign="top">type(component_descriptor_type) function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a72490f0cc37d570074c2306898e71002">haloswapper_mod::haloswapper_get_descriptor</a> ()</td></tr>
<tr class="memdesc:a72490f0cc37d570074c2306898e71002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a description of this component for the core to register.  <a href="namespacehaloswapper__mod.html#a72490f0cc37d570074c2306898e71002">More...</a><br /></td></tr>
<tr class="separator:a72490f0cc37d570074c2306898e71002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20dba6765095019c8a311f237d399332"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a20dba6765095019c8a311f237d399332">haloswapper_mod::initialisation_callback</a> (current_state)</td></tr>
<tr class="memdesc:a20dba6765095019c8a311f237d399332"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation callback hook which will set up the halo swapping state and cache some precalculated data for fast(er) halo swapping at each timestep.  <a href="namespacehaloswapper__mod.html#a20dba6765095019c8a311f237d399332">More...</a><br /></td></tr>
<tr class="separator:a20dba6765095019c8a311f237d399332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc41ef4805ce22bc046be80aa3cf04a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a7fc41ef4805ce22bc046be80aa3cf04a">haloswapper_mod::timestep_callback</a> (current_state)</td></tr>
<tr class="memdesc:a7fc41ef4805ce22bc046be80aa3cf04a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestep callback hook which performs the halo swapping for each prognostic field.  <a href="namespacehaloswapper__mod.html#a7fc41ef4805ce22bc046be80aa3cf04a">More...</a><br /></td></tr>
<tr class="separator:a7fc41ef4805ce22bc046be80aa3cf04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794242b5be8c350749afa9d837191c12"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a794242b5be8c350749afa9d837191c12">haloswapper_mod::finalisation_callback</a> (current_state)</td></tr>
<tr class="memdesc:a794242b5be8c350749afa9d837191c12"><td class="mdescLeft">&#160;</td><td class="mdescRight">The finalisation callback hook which will clean up and free the memory associated with the halo swapping.  <a href="namespacehaloswapper__mod.html#a794242b5be8c350749afa9d837191c12">More...</a><br /></td></tr>
<tr class="separator:a794242b5be8c350749afa9d837191c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea46ae8a52ec0206d24cd4c5aa492a95"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#aea46ae8a52ec0206d24cd4c5aa492a95">haloswapper_mod::copy_halo_buffer_to_corners</a> (current_state, neighbour_description, corner_loc, x_target_index, y_target_index, neighbour_location, current_page, source_data)</td></tr>
<tr class="memdesc:aea46ae8a52ec0206d24cd4c5aa492a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the halo buffer to halo location in a corner for a halo cell/column and corner location. The copies are performed for each prognostic field.  <a href="namespacehaloswapper__mod.html#aea46ae8a52ec0206d24cd4c5aa492a95">More...</a><br /></td></tr>
<tr class="separator:aea46ae8a52ec0206d24cd4c5aa492a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec0137b34ecd74e7d07be2a504aaaa5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#afec0137b34ecd74e7d07be2a504aaaa5">haloswapper_mod::copy_halo_buffer_to_field</a> (current_state, neighbour_description, dim, target_index, neighbour_location, current_page, source_data)</td></tr>
<tr class="memdesc:afec0137b34ecd74e7d07be2a504aaaa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the halo buffer to halo location in a field for a specific dimension and halo cell/column. The copies are performed for each prognostic field.  <a href="namespacehaloswapper__mod.html#afec0137b34ecd74e7d07be2a504aaaa5">More...</a><br /></td></tr>
<tr class="separator:afec0137b34ecd74e7d07be2a504aaaa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3006cc5431fe9b1ce1032e0cfa8e53a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#aa3006cc5431fe9b1ce1032e0cfa8e53a">haloswapper_mod::copy_fields_to_halo_buffer</a> (current_state, neighbour_description, dim, source_index, pid_location, current_page, source_data)</td></tr>
<tr class="memdesc:aa3006cc5431fe9b1ce1032e0cfa8e53a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the prognostic field data to halo buffers for a specific process in a dimension and halo cell.  <a href="namespacehaloswapper__mod.html#aa3006cc5431fe9b1ce1032e0cfa8e53a">More...</a><br /></td></tr>
<tr class="separator:aa3006cc5431fe9b1ce1032e0cfa8e53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee10e5097ea1212d606e64b4de47b0c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a2ee10e5097ea1212d606e64b4de47b0c">haloswapper_mod::copy_corners_to_halo_buffer</a> (current_state, neighbour_description, corner_loc, x_source_index, y_source_index, pid_location, current_page, source_data)</td></tr>
<tr class="memdesc:a2ee10e5097ea1212d606e64b4de47b0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the prognostic corner field data to halo buffers for a specific process in a dimension and halo cell.  <a href="namespacehaloswapper__mod.html#a2ee10e5097ea1212d606e64b4de47b0c">More...</a><br /></td></tr>
<tr class="separator:a2ee10e5097ea1212d606e64b4de47b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273d7bb8195fe3a3025a27d1d5a51338"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a273d7bb8195fe3a3025a27d1d5a51338">haloswapper_mod::get_fields_per_halo_cell</a> (current_state)</td></tr>
<tr class="memdesc:a273d7bb8195fe3a3025a27d1d5a51338"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deduces the number of fields per halo cell. This depends upon what fields are active in the model.  <a href="namespacehaloswapper__mod.html#a273d7bb8195fe3a3025a27d1d5a51338">More...</a><br /></td></tr>
<tr class="separator:a273d7bb8195fe3a3025a27d1d5a51338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85ff953dbb24e3fec451de9ec066e7d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#ab85ff953dbb24e3fec451de9ec066e7d">haloswapper_mod::display_debugging_info_if_needed</a> (neighbour_counts, included_fields, rank)</td></tr>
<tr class="memdesc:ab85ff953dbb24e3fec451de9ec066e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays some debugging information about who is sending what if that <a class="el" href="namespacelogging__mod.html" title="Logging utility.">logging_mod</a> level is selected.  <a href="namespacehaloswapper__mod.html#ab85ff953dbb24e3fec451de9ec066e7d">More...</a><br /></td></tr>
<tr class="separator:ab85ff953dbb24e3fec451de9ec066e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574e9edafcbcfb75368b24553b73dc24"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a574e9edafcbcfb75368b24553b73dc24">haloswapper_mod::perform_local_data_copy_for_all_prognostics</a> (current_state, halo_depth, involve_corners, source_data)</td></tr>
<tr class="memdesc:a574e9edafcbcfb75368b24553b73dc24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will do any local copying of data required for the boundary conditions. I.e. if all columns in a slice are on a process then it will copy in the y dimension.  <a href="namespacehaloswapper__mod.html#a574e9edafcbcfb75368b24553b73dc24">More...</a><br /></td></tr>
<tr class="separator:a574e9edafcbcfb75368b24553b73dc24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4fa9945542be498a51bd3787a231fa5a"><td class="memItemLeft" align="right" valign="top">logical, private&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a4fa9945542be498a51bd3787a231fa5a">haloswapper_mod::first_call</a> = .true.</td></tr>
<tr class="separator:a4fa9945542be498a51bd3787a231fa5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9554c31d5f88b5e44ef40bbff5184e85"><td class="memItemLeft" align="right" valign="top">type(halo_communication_type), save&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehaloswapper__mod.html#a9554c31d5f88b5e44ef40bbff5184e85">haloswapper_mod::halo_swap_state</a></td></tr>
<tr class="separator:a9554c31d5f88b5e44ef40bbff5184e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
